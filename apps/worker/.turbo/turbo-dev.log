
> @citypass/worker@1.0.0 dev C:\Users\ragha\citypass\apps\worker
> tsx watch src/index.ts

[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
üë∑ CityPass Worker starting...
üìã Found 15 active sources

üöÄ Processing source: The Bowery Ballroom
üîç Discovering URLs for boweryballroom.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.boweryballroom.com/calendar
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.boweryballroom.com/calendar...
Redis Client Connected
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_4761a2847bad4732a8a1a368697299e2',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=9WoPSockAXugvRhzWgKxRSTHmsZC.3ufbZrMfLm0ryM-1762726215-1.0.1.1-IC05220G2zJbqHbK2WvRV_Xu1EuFnB6RI5Kf86eao2fyBoXfESB76kvEO.EEB3e_D3eVLhE2oWfXrLPPDeXi6LbZkLpF7chvRGf1rglw9Kw; path=/; expires=Sun, 09-Nov-25 22:40:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=43rXm24gWR36ym3eYkQrBq.pnKYF_6Cs9XaW7NHsvlI-1762726215016-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a39b3c4cf981-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_4761a2847bad4732a8a1a368697299e2',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5d8e1hetSAw3V6LwiK"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:15 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a39c7bf62223-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5d8e1hetSAw3V6LwiK',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5d8e1hetSAw3V6LwiK',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5d8e1hetSAw3V6LwiK'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5d9EydRqivwLa4YTjn"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:15 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a39d39cc8acc-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5d9EydRqivwLa4YTjn',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5d9EydRqivwLa4YTjn',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5d9EydRqivwLa4YTjn'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_c48c19b3a4e345dba56468ee72a5c4b7',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=L9hgwesFilVVblnwn9s5KDqSJog0M6_1olI1NOFDEdw-1762726215-1.0.1.1-Q1xkW0rxCwcMZZzkRUdeOrxbVQHb6SLL4RU_QMLCAcK4MeHOFTA0NUmHLGFEYpcQwjpu13Y.jZ0idLFvVwXDn5G47xtfxos2xwIBm73kZH8; path=/; expires=Sun, 09-Nov-25 22:40:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=ICQxfTzfzWgr7UZhPq56MwOvpaFRYSucOPZaKduFtAU-1762726215435-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a39dca39f981-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_c48c19b3a4e345dba56468ee72a5c4b7',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:15 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_c7476d80b37e443f9873334236ab2781',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=bf1MQ9tInZD_9.vchktgzmJxy5ylTPJOp7ppVSaxnSY-1762726215-1.0.1.1-UO.rCkSTSxo74TaWX_fHxPL4Zuhr5nCskOmHKUN6GWUL9adGni9hqrYesd_5cz7GCALmAg_dyK9cep0FD1A4cxRnMS6KrapB3zVzqCe15CM; path=/; expires=Sun, 09-Nov-25 22:40:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=hwc1h2t3k7kWt8fZ5C2OhF.ZaRDRvBE5vOIKvycoV7o-1762726215576-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a39efc50ddb6-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_c7476d80b37e443f9873334236ab2781',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:18 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_bd88c626d7e547c39ad53b70014c0eb9',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=BzcOWmddAFByRy70ve3kqmhN1n5sCz4g1jVVOue4Qv4-1762726218-1.0.1.1-i5P870RFCaCRM1NMjHr7aG0gWasoczhOKgNXkfC4GF.WAj6Mu8cwSU2QOPzpUjdNPQmIHTdywYODRdh_h9INbbXYJhXuBntyESZXbKriaXw; path=/; expires=Sun, 09-Nov-25 22:40:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=B1HQHqUuvtyDB8peQ4JjR5y9cfWdAo.zDO76zZefKzk-1762726218935-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a3b3ba10f981-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_bd88c626d7e547c39ad53b70014c0eb9',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5dR5UjqfJWZc3fwiZv"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a3b4794f2223-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5dR5UjqfJWZc3fwiZv',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5dR5UjqfJWZc3fwiZv',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5dR5UjqfJWZc3fwiZv'
  }
}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5dRUnSGsrigakBFhEW"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a3b50a898acc-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5dRUnSGsrigakBFhEW',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '41',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5dRUnSGsrigakBFhEW',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5dRUnSGsrigakBFhEW'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_10002b7e17c24a35a3e270e5ac631a3b',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=chex57cnpkR.lReUQveyk.0KUnokoOEsixz0n3NeKDE-1762726219-1.0.1.1-MY2JF02bK7Jd0OOMNGXSkfaY0idI_3ru0mStf9IVYp18ckGAMeoF6..t482dI11CF3XwcYAL1ftd4dWe.Nvj3.bXG1hl8Ih5c.spdM2_9AQ; path=/; expires=Sun, 09-Nov-25 22:40:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=E23vw5YV48.M0TSD.VT1GcabgSfsQB7KoEvCOgvCIAo-1762726219230-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a3b59e97f981-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_10002b7e17c24a35a3e270e5ac631a3b',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
üéâ Extracted 0 events total
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_0eb378441a904cb4a41f517071941b82',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=4QxTXJFYif0d58sAeqL95VBjFx9FbbvIYMLaIAFmNX0-1762726219-1.0.1.1-8sllMZzSyAeaGYu5Mhz7xrh5J8HIv1VCYuvSBKzo.VzmShHGnSdmYK32ykkOQGz34Wajm7R.iOT3mnfcUq6Nr1VcAVVZHlYVT49.m2nWZvo; path=/; expires=Sun, 09-Nov-25 22:40:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=OGEyJNK80FbMVvCj3aFA2_K3uVi4wgYw3ut1cwuUSx4-1762726219331-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a3b6584bddb6-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_0eb378441a904cb4a41f517071941b82',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.boweryballroom.com/calendar: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: The Bowery Ballroom

üöÄ Processing source: Brooklyn Bowl
üîç Discovering URLs for brooklynbowl.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.brooklynbowl.com/events/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.brooklynbowl.com/events/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:40 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_961303892cf54a6ca69a32f95e3d9289',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=_v7sh.zvKgBDxVuPTIXZ9Hn1mbND3UpADVLJwGDa_f8-1762726240-1.0.1.1-nYr0mb_BO7kI1xExmY5e1iwWxPCuxrkTiIArTLv92Mv0pWErE_T0H7DyoOr88BW0HZehMFulZBkwFVoDvAwVyUeERQjnIZvFxp1J6sn4yjg; path=/; expires=Sun, 09-Nov-25 22:40:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Ez4v9dPLRGgxQrcP3LCWhfkZYQkMKpz3SGaVhK.RRQA-1762726240446-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a43a2a075f74-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_961303892cf54a6ca69a32f95e3d9289',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5f1G4faFUAEsjGk381"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:40 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a43b39ae42b8-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5f1G4faFUAEsjGk381',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5f1G4faFUAEsjGk381',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5f1G4faFUAEsjGk381'
  }
}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5f1poLpvUKbB3WUzU7"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:40 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a43bfac314a8-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5f1poLpvUKbB3WUzU7',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '27',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5f1poLpvUKbB3WUzU7',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5f1poLpvUKbB3WUzU7'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:40 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2e859067a44644e2b9d7515257768956',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=R6iey5uFQ11.OGxlzMCyZTwAINSeCRswWJxCKwUR_6o-1762726240-1.0.1.1-TpC8A8nplts1YHhWSKth_rbhjoyeU1hPt9_48_HuU.SNrC9.h2OIlaFA1wtCbMs3M01oRCuZQ0HgAl2ymCxUmReXq5eB3Zz21TSEJ0OfQtc; path=/; expires=Sun, 09-Nov-25 22:40:40 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=w19.6UkCy_1DrUp.VCszL0kjwZrZEfWhm5EyChaoOtM-1762726240829-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a43c9fb15f74-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2e859067a44644e2b9d7515257768956',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:41 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_ba360b16513a4de18efa51082e37d16a',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=KG2I8ozvkZ5o1nKWIYwMmcHEtzURPycQEcHE8njLY8M-1762726241-1.0.1.1-LIwfDlEhsyt0bWtxzOro4373emuM3e4HBTR7xyPSGXLBMTvFh_EQg1.SuVVkWFrS5Gr3QjmPVGNUsIup5EXQ85ovXj_LLDiXiWp5uN7SMGg; path=/; expires=Sun, 09-Nov-25 22:40:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=QXACkN6p7N_.L7yg3dOaMoo6OEdxH_9mrZ6_Y4Cp4fo-1762726241023-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a43dbc9378df-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_ba360b16513a4de18efa51082e37d16a',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:44 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2210747208b94b1487ffc7fa29e346bf',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Uqin78BOxvhju0rpVWMCJtAoPb9Oc9qrElCF2hmG1ws-1762726244-1.0.1.1-GnUjcCKxxDQ5Fwo6xETHPj0hgtQ5x.6ZITzXH3UGJfATB1516vaAkmliWQP8._z6nUPISavqJvT8ku9zrAiElIE4lg.pwtYmzhA0StxL_vA; path=/; expires=Sun, 09-Nov-25 22:40:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=toug5qEJlTtWj__OhR3og7azMBBX5BG9miUkDd6m_2s-1762726244745-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4553bdd5f74-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2210747208b94b1487ffc7fa29e346bf',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5fKerQorau76jkwjCS"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:44 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a4561965c472-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5fKerQorau76jkwjCS',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '52',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5fKerQorau76jkwjCS',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5fKerQorau76jkwjCS'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5fLMGsLN2h4ffkLdmW"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:45 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a4570c118cd7-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5fLMGsLN2h4ffkLdmW',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '62',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5fLMGsLN2h4ffkLdmW',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5fLMGsLN2h4ffkLdmW'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:45 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5ec8d93eb29a45c5bfb27ae066871713',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=GuuWhDOMFV.udNY3PmUkEm5nIJLWVWw2A9bsP3M2j2M-1762726245-1.0.1.1-FzSduXWpCBsc4Eu2NCWxCPEIlF4vEL0T0RyfLHak474DYAhmxDQxe6.HyRT3MXe84KucpNfGUef49J2P6Uj9ZOi8nw1VHEUDZg_7pjDmS2Y; path=/; expires=Sun, 09-Nov-25 22:40:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=TMcZyBCw5jvErLE2Y3VDbI71ulHcSlzS5.Pmqp3zpgc-1762726245166-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a457ea5e5f74-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5ec8d93eb29a45c5bfb27ae066871713',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:45 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_68ad51a8fc79490085d92f3bbc146a30',
    'x-envoy-upstream-service-time': '0',
üéâ Extracted 0 events total
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Yx49CKxEIWx77XnBva2wKJvPP9fVrDfflsgobh9tT6g-1762726245-1.0.1.1-ccnaBRzugxXn2.d2rHm5O1q0u36iB3ZBEt9b9iSmRE.DZ7FE303hb5am7O0K_a5jWHZ_1pVNB6u.NLk5tD_9XaTe6DBgQcQouq.eiATC0oo; path=/; expires=Sun, 09-Nov-25 22:40:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=9CFDwWDJoYTKw7wjbtG88s_N1Goh.lPYt6ZdzZ.eLVc-1762726245363-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a458dbc58cba-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_68ad51a8fc79490085d92f3bbc146a30',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.brooklynbowl.com/events/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Brooklyn Bowl

üöÄ Processing source: Comedy Cellar
üîç Discovering URLs for comedycellar.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.comedycellar.com/shows/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.comedycellar.com/shows/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:10:59 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_a3eb1b10a0d74778855ddebbbc6548c9',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=f5yIMbbQ0f71shQTi8Hxc0jlyr7mU1T4RXQ_GwObb1s-1762726259-1.0.1.1-K5tbwr2d3QgrxBGkGwHFIekJTMEtAt89qV4WV6wUeXu_ZTBGYOX1fO0JH.GD92iBHriPHsuSyMiF5_4AXGVRUaUUeE20GzBgwWdc5c2hRPk; path=/; expires=Sun, 09-Nov-25 22:40:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=A2vpc7O7x2o7LKjNiLw.nJFD1BB6uEBK7uUWIn7g830-1762726259896-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4b3ff297c93-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_a3eb1b10a0d74778855ddebbbc6548c9',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5gSRvBG5CQRPQSD8Su"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:00 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a4b4cf2497d2-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5gSRvBG5CQRPQSD8Su',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5gSRvBG5CQRPQSD8Su',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5gSRvBG5CQRPQSD8Su'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5gSvBxT37Babky14Qu"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:00 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a4b56acbc3f8-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5gSvBxT37Babky14Qu',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5gSvBxT37Babky14Qu',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5gSvBxT37Babky14Qu'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:00 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_30cf60645c7c4ff3b366b820c116d889',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=G0afHQ6mx_vxByVTrUA8SdvFlCVRPh1yUZ1cMHPmB3Y-1762726260-1.0.1.1-YyscRbMIO2nyr1kt22mHRswF6IDTYoQKx0REltBDhk39ni7DQyCcR09M7FtD.2E1q1.X52uYFX5IBqpQapYikxlYSRLKqX29d1fM6TSGw6k; path=/; expires=Sun, 09-Nov-25 22:41:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=HMqYTIsVP70JlKeZofuVFCqluJgZPXDv9UFGYcZhJJk-1762726260251-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4b5e9447c93-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_30cf60645c7c4ff3b366b820c116d889',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:00 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f97c7e954b504fa58ae8e8c688b0673e',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=tSetBReAM1.pBfkiUuq5ssB7H80t4j_qDerYMrDBqgY-1762726260-1.0.1.1-wGdwwhQStYjOyneBTgbSjMxf4Qfuze9iuNbfTUrAzxFijJobDfhAUrG3AbkI.NSc4fKEfUFBGWJnQsBq2sR6.n8ZvjMSijKaTPkRE4m0lX0; path=/; expires=Sun, 09-Nov-25 22:41:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=65d7shXyXadtQ3UEbYgBR0WrFn8pcytLhsjbsx8uCaM-1762726260491-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4b6eefb4207-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f97c7e954b504fa58ae8e8c688b0673e',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_67ae9b29e2b74bc1b782c310e3f314af',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=puhZfxafRwjygUTJiDFVEFLfOT5OkgBrModXADqrpmc-1762726262-1.0.1.1-QAJNE8RltNennApqwRMbt9qY3ymC_cVfMYEtBga.ibrdS_1pJ14GFvV4oDhqjkgYfg2_1Oy54SB1aG_2LrPVBapqCPrk1yVepXTxJwnSQu0; path=/; expires=Sun, 09-Nov-25 22:41:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=.50hjsCl0EWF8glsy80aDv4hsPccV2teVMiiYt0kYZI-1762726262297-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4c2bd567c93-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_67ae9b29e2b74bc1b782c310e3f314af',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5gcUfAQJXgHaaUsMpr"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:02 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a4c38a1997d2-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5gcUfAQJXgHaaUsMpr',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5gcUfAQJXgHaaUsMpr',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5gcUfAQJXgHaaUsMpr'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5gcjnjzG9m4AACUnVd"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:02 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a4c3ef2dc3f8-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5gcjnjzG9m4AACUnVd',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '19',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5gcjnjzG9m4AACUnVd',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5gcjnjzG9m4AACUnVd'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_862ab522a0d346348fc30dea95009844',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=mJ8Td8GEd7hWdOdmOhWJRoRzjUZ3NBYIhBeoa3evr_k-1762726262-1.0.1.1-XylfiM_LQoWFJBM8YXJHJGl9NtKRY.Q4EnArrvKdRvPHruTn_SXRu3VhljBLHMFmEC2KSKh.1Shz8wS9h99QpZ3stNxaY3szhn7.WbWUG54; path=/; expires=Sun, 09-Nov-25 22:41:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=GNR0YHzcI8SwRbVS0SRd2JgRzP4r5C0C_1zgj0MpEzw-1762726262500-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4c44efe7c93-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_862ab522a0d346348fc30dea95009844',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
üéâ Extracted 0 events total
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_4137736f08b04b679b3254e5beb7ac56',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=O7D3DUhmRyqx0jRNrrpKWZ7TEx714z1Fq6MMncUjJKE-1762726262-1.0.1.1-bk0LEonjRZf0RFa7Ag1MLwhfRsKzyX0FnlyihyYQUfLp99wCFhPn1SInJZssADUIbYC2.OLISMI7sR4X08ScDl5OdfznIO.W44C0YrR5U5k; path=/; expires=Sun, 09-Nov-25 22:41:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=8spwxByeeKYPSelb9x39D7vm5ChzL4pVJr1nRnpQCmc-1762726262618-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a4c4ba2f4207-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_4137736f08b04b679b3254e5beb7ac56',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.comedycellar.com/shows/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Comedy Cellar

üöÄ Processing source: UCB Theatre
üîç Discovering URLs for ucbtheatre.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://ucbtheatre.com/shows
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://ucbtheatre.com/shows...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:23 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_8520226e8df54ca6be6eb70147e5c864',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=cICXXpgapW5Iyh3kGP._ONhgKAqxRvIjYdMGF6CSmSk-1762726283-1.0.1.1-uM_jpc7.5Qu21aag40B_8LEk10KrapU_jj5U61YV9BRnfkixjsJ3ltfF1056tEiclReIYj8jX911jCuzGWS8.sjtMkmINlF_h1FFzIh.8_0; path=/; expires=Sun, 09-Nov-25 22:41:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=PHeAeOdcD1bZzA_EnaK2e4x5VtxSrx4fgmQOYMPjOo4-1762726283642-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a548194543e0-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_8520226e8df54ca6be6eb70147e5c864',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5iBsNazJTv9uw5ASQd"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:23 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a54919d242c4-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5iBsNazJTv9uw5ASQd',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '21',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5iBsNazJTv9uw5ASQd',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5iBsNazJTv9uw5ASQd'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5iCPd7tAD3Ff43eAfR"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:23 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a549cbadc64a-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5iCPd7tAD3Ff43eAfR',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '49',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5iCPd7tAD3Ff43eAfR',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5iCPd7tAD3Ff43eAfR'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:24 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_85a876956beb4c6fb42f0d55514bc2ee',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=dLUCr0IqYPcPNvWT4.fltI5GhlkeTa3J2vItvEo2IB8-1762726284-1.0.1.1-MRMo7VmQOwbYgzmU_O7kDPPluimvJf4fHaJCWe9fL1qUkcC9OmpxHm0HVuK0BZn2enuYp3QbZi0swGu.ePsjhznHBvgcRi8Pu8X56Eqr0MA; path=/; expires=Sun, 09-Nov-25 22:41:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=8jd6uK_Wd9YhhT3ft4ViPnZYO5YYegy5Twwjy_Hitig-1762726284014-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a54a7a9843e0-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_85a876956beb4c6fb42f0d55514bc2ee',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:24 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_60d69d3f832c4dafa38df380fa76602d',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=8NND_8sFJX5j0zJsLO5249W8I8N0zcOeMv.OcmNaLF4-1762726284-1.0.1.1-pyI0zyQVxbOtlGBP3npo8EGL5e_m25akjCfjzkiF4_E7G9Bv6OHRc6aIVfBxiXz7VSa_c6Au2Yu0cBMXvPcRPwPmzsHlpTZju9YxIYH8Ep8; path=/; expires=Sun, 09-Nov-25 22:41:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=DGOpzFdtmAYjwTumLxBZFZtqdhMz_xuZIIGjWUJp7qs-1762726284166-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a54b9ed68e3e-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_60d69d3f832c4dafa38df380fa76602d',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:27 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_4f6170ac10b44422a3011a51be4d7fa4',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=.QJW4QWU5C2uIItO5gvwbmRIXBl_ENMe8NzrStTjips-1762726287-1.0.1.1-xsjDZkwZEdeuIUazMsw8BnLwc8CPlYrTqk_93Ke5ajNsSXQoqs7S8RBf5nVrZScpFvObGCu1Iab3P7NxdlNCrQcihZ26cRBSagIPqZQeekM; path=/; expires=Sun, 09-Nov-25 22:41:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=I3iJ4J0_A6gFs5GV0UHPRMTJt_4Nu_H5R.b1.tP5o88-1762726287378-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a55fa92c43e0-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_4f6170ac10b44422a3011a51be4d7fa4',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5iTgt7ZioVHr2JXeCp"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:27 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a5603ea142c4-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5iTgt7ZioVHr2JXeCp',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '18',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5iTgt7ZioVHr2JXeCp',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5iTgt7ZioVHr2JXeCp'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5iTwFzqiM7BGst3yik"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:27 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a5609884c64a-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5iTwFzqiM7BGst3yik',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '15',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5iTwFzqiM7BGst3yik',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5iTwFzqiM7BGst3yik'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:27 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5768fc6c5efe43cead2d1bcf2cd81493',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=vkzqA93GyPOB7QYaBXwXsJOoeAgEgbwvwGRcU99ZCds-1762726287-1.0.1.1-mAocvt5RXAzEuivqng3aIFSvKLp3crFoneMcaISB5deqZlt1ry0pT3mdkmaxMq3IlzOkudLLoLRiHSJThQ36cwnSl1_175N__cfFgCDYufA; path=/; expires=Sun, 09-Nov-25 22:41:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=_Rl19b7S2_j4muYC6rQWSdG9S2CF1cIbGOvEVMHNJ.E-1762726287586-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a560fa0543e0-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5768fc6c5efe43cead2d1bcf2cd81493',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
üéâ Extracted 0 events total
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:27 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_448a9ec3b0634143bd89dc27e9b1697a',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Qy3Tp2wFOmA6wxeV4VsSwWKru.Uhatmb.0BylwHH9Rg-1762726287-1.0.1.1-DQCAadIrVv6sSIukelDzP9OW803aZhdbTA9CJ_yEJkWDjpXGxqkmZfGjI7WVRws4EZsJiSH_cx9hxF6lmurZIQFeD_tZGsZE239SQLSnZ7c; path=/; expires=Sun, 09-Nov-25 22:41:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=T.YkU8_MiHtWACA1ba19fuT3pYdFazfv8wL7P0M4hpw-1762726287698-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a56188248e3e-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_448a9ec3b0634143bd89dc27e9b1697a',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://ucbtheatre.com/shows: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: UCB Theatre

üöÄ Processing source: Brooklyn Academy of Music
üîç Discovering URLs for bam.org
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.bam.org/whats-on
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.bam.org/whats-on...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:44 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_e884b4e3c0d147618db39d1c1be35fda',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Is9SoaurYNuTIahP0sgRENj0Rt6gNTTOcRxfULF3Xek-1762726304-1.0.1.1-CYFVqyxPtEnwOvcQRSdiLaAHZqPJzaHLJvsxU0S2XUwyd7dJXz.r53m1tCP.hPRCJ29ZK5mDHnJh1Ls8KYd3KBajPHVSk6ar1Dg9iuzAFto; path=/; expires=Sun, 09-Nov-25 22:41:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=gJULB4YT4whQRtDUMiAztBMVx0GjjUJ4KL4Y8npIiys-1762726304328-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a5c96e42efa5-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_e884b4e3c0d147618db39d1c1be35fda',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5jiQgoPVy1W8jPAu5s"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:44 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a5ca68a6de98-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5jiQgoPVy1W8jPAu5s',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '34',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5jiQgoPVy1W8jPAu5s',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5jiQgoPVy1W8jPAu5s'
  }
}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5jiyR1YvgTUgHiZ778"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:44 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a5cb5d0837a9-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5jiyR1YvgTUgHiZ778',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '16',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5jiyR1YvgTUgHiZ778',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5jiyR1YvgTUgHiZ778'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:44 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b4e16b438cd24296ad0044bcb72a151f',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ZPRhr6hvs3cvQ._.W6n1lRvXhK_CdilXDHZfzEEKSEQ-1762726304-1.0.1.1-KLFWIPunSg.eToDiHtJf1w7jZQmVxmNwoo64JDyJwcmB6iI67kMPyhQDz.QPDCCvkr.QfwaN7adJrP82sLAwz1NuyMb1Kigk1982Ubxmm7M; path=/; expires=Sun, 09-Nov-25 22:41:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Uq1Nf0IkWVLW6WNcP0C1h4bJM0Rp3e5FRrrsBQ2x9Qw-1762726304675-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a5cbcb2befa5-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b4e16b438cd24296ad0044bcb72a151f',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:44 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_4308a84e29494846bcde53b30937ae37',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=lUjnO_fAVgNCIGSX3BlEtBhvprrz0yxRdTglCSN7i44-1762726304-1.0.1.1-c4fG3NTd0dEwCOKJvZtmzRYQu0nDAeUe31N8iQ87nNnVte4DhBZ4b7Vc_ak_hL6yZDq1nZp0fdNvXshIvCZFsI2_T1fg4yOnv6AQtHSnmiQ; path=/; expires=Sun, 09-Nov-25 22:41:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=9YSeckjbbZe7OTUOE88NHITZaREnfykCq.ZRpzfGzsY-1762726304814-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a5cc89565930-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_4308a84e29494846bcde53b30937ae37',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:46 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_24941a4524114a6d8cc4e8d51558f304',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=rICqI3qPuduUjgjLClm.JN3DxqShSyw2K6Ykx.8lEGA-1762726306-1.0.1.1-oECErcdPjYpbbu9bWu0O5k4.0COUKG4XwsDVDmVaOqM5sByazfz92bQscvkYXNN9069ixg0QZc00pa576xmJzCIv5nDCh6qr1RUb8DU39MY; path=/; expires=Sun, 09-Nov-25 22:41:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=mEVjsCrS.fG0s4bBsXGKbJPwPeAIkN9_xVsBMimIMME-1762726306845-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a5d92b2eefa5-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_24941a4524114a6d8cc4e8d51558f304',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5jtuxUpTBDDpdkd2am"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:46 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a5d9ebe8de98-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5jtuxUpTBDDpdkd2am',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5jtuxUpTBDDpdkd2am',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5jtuxUpTBDDpdkd2am'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5ju96i39VqxiK4XeND"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:46 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a5da3e5937a9-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5ju96i39VqxiK4XeND',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '18',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5ju96i39VqxiK4XeND',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5ju96i39VqxiK4XeND'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:47 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_aee1403858b64f4d80729a47e5ae7185',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=XHJTuFO6RRBLI4iJ9KTzuZEfg3cOycGJgjnGHCcWZS4-1762726307-1.0.1.1-nreMrDfMnwQ.pJwZDFWCMomT1U3O7Fn.MkUnmqrd_uPK.vQgKRPdRuPnBeRuR8fNnwL56KRJy22yAkdAOWCyEPHU9hHogVuZsn4NThoFpwQ; path=/; expires=Sun, 09-Nov-25 22:41:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=2XSqvWBTY5bh4_y_hkMn2bWodYdW5ADMwracC3OBwfM-1762726307048-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a5daaeacefa5-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_aee1403858b64f4d80729a47e5ae7185',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:11:47 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5a32acb3c71548349aa162106a6d187b',
üéâ Extracted 0 events total
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=oCaUNAehqQ1kEB0N0EB_BfdKk4LpTILNLRt5B4i1ZCY-1762726307-1.0.1.1-7AmitCVBzFrQzbKsU6Gww1FLxoRPFv86icNLyInhVAmWhXKcDubIEqReoFy7YXomxJ9B6W81QBZ9vjlCBcLuazgxfTvBzIEZpWV6LJ_5k84; path=/; expires=Sun, 09-Nov-25 22:41:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=m12zmfcusuSqOr5WDk66qeLVLqCWECvwtJ3I3CZna58-1762726307172-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a5db3a2c5930-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5a32acb3c71548349aa162106a6d187b',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.bam.org/whats-on: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Brooklyn Academy of Music

üöÄ Processing source: The Shed
üîç Discovering URLs for theshed.org
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
5:11:50 PM [tsx] change in ./src\index.ts Restarting...
c[dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[Worker] Loading .env from: C:\Users\ragha\citypass\apps\worker\.env
[Worker] Loaded 0 environment variables
[Worker] OPENAI_API_KEY present: false
üë∑ CityPass Worker starting...
üìã Found 15 active sources

üöÄ Processing source: The Bowery Ballroom
üîç Discovering URLs for boweryballroom.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.boweryballroom.com/calendar
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.boweryballroom.com/calendar...
Redis Client Connected
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:55 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_d982ea5312754366a1ff23a036da351d',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ZG8F7FtIOK1CqxK6vu7HaIi.5.LD8xmX5i41O7th3FE-1762726375-1.0.1.1-y8_jytvgcrrEMi_QjhCkiYZZz.8xc387uetbxV_0EWv3btb3gRh80gxSKa6w_SCa..LLiR_GnQp07cbsqien90ILZLqBVQ4Dw0zIvEgrii0; path=/; expires=Sun, 09-Nov-25 22:42:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=AoHg5vfl3LwYpDvtLGPJO8grg06xtICDSwcnAl21BKk-1762726375882-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a788dfeba10a-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d982ea5312754366a1ff23a036da351d',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5pzLHMWTfmcXfr4Mh4"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:56 GMT',
    'content-type': 'application/json',
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a789c9684373-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5pzLHMWTfmcXfr4Mh4',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '18',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5pzLHMWTfmcXfr4Mh4',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5pzLHMWTfmcXfr4Mh4'
  }
}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5pzuWdJFMAaQSw2vyE"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:56 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a78a8b8152d3-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5pzuWdJFMAaQSw2vyE',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '44',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5pzuWdJFMAaQSw2vyE',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5pzuWdJFMAaQSw2vyE'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:56 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_0e224b6420594586853999e1bcdd1df2',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=MVpMq3zBW4poTiGOsOxFe5S9GJE3aF5lzZJosdN5Lzc-1762726376-1.0.1.1-EhpKH_IE6Vf1NfN_OOOVD5BxzVbf17yeLibqId4_OED.3EP3xxrcdnBzGXNQKo75ZHaTrghFKyH5THYiUZn39YgM.FkSFKYW9Z9M_HnTVRM; path=/; expires=Sun, 09-Nov-25 22:42:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=mJ7IEwK2_2ASbR2UEPWjdVSMR558xRD6K1fEyyFOUd4-1762726376505-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a78b2d52a10a-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_0e224b6420594586853999e1bcdd1df2',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:56 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_ebae2afb013b9552800cd33d21cf5985',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Y4sG0hCLy8N_KXtqI7rGvbSyjaLsgpLn7JMpPqCJRJs-1762726376-1.0.1.1-Ip96lPQxdL7am9E3zHtinUGMB0QQowg2vaZCV2UdYcxGRWXpTukNfESEDA8EimRniX7K9tgIT7dZ3ptaZBdK_zOv6f_14eQtAl7_ePHxHzU; path=/; expires=Sun, 09-Nov-25 22:42:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=LnJI0FcVwD60K_ti7CAtxr6RlOXsG9568Aco7iXNc8I-1762726376651-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a78da9b28095-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_ebae2afb013b9552800cd33d21cf5985',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:58 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2fc9889f3974432fa98ba94b7d55fa7f',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=5h6xFyqyzMY5O.O3qHJ4hFsXw74P8X.MG56BAwXKlUI-1762726378-1.0.1.1-u7wp3vMgRbtHyrCPP5EbayIHxjOPUXY9ZAng3wG4sDW2lwJmwOpQdAVt6enpXsn4FHuHlWz3AS260qWe85DLpP1aDgxm_sCeIukve9FQwdI; path=/; expires=Sun, 09-Nov-25 22:42:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=PGdqGoUu7aHCB6qJBtQa7hKX4RnyipNlQadn8NB7Wao-1762726378575-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a7996833a10a-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2fc9889f3974432fa98ba94b7d55fa7f',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5qBcwKPFEuH23GM7xB"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:58 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a79a3e0f4373-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5qBcwKPFEuH23GM7xB',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '23',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5qBcwKPFEuH23GM7xB',
  error: {
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    type: 'error',
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5qBcwKPFEuH23GM7xB'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5qBuYsHRUWuLExq5fL"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:58 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a79abf8352d3-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5qBuYsHRUWuLExq5fL',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5qBuYsHRUWuLExq5fL',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5qBuYsHRUWuLExq5fL'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:58 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2565e6fd50774ea7bc8a10fc9d9c4a33',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=bxr8qDhOAKhBzzTFDqDbk8zeAyoPpRTTegU329kUS14-1762726378-1.0.1.1-e5ms1mE7HQovxOW_jOuclh78x3ai4FlWUBPSIWmykbIFUw_am9ZSGz2OTyXnFbMrB.UnCPSW.PY7gnL56mxS6x2ubq0j2W0Uk6H09R.Tpbo; path=/; expires=Sun, 09-Nov-25 22:42:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=E7qWI7IMRAc9ZdgRiOExg25_6MmzTJJftOABlXSeWA8-1762726378794-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a79b0c37a10a-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2565e6fd50774ea7bc8a10fc9d9c4a33',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:12:58 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_65fdf86344ae494191b863b6622fe525',
    'x-envoy-upstream-service-time': '0',
üéâ Extracted 0 events total
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=CP9qr_JxICkQ3vJAdpOZ.ITKE8HHzZYNZKgHlVFXIv4-1762726378-1.0.1.1-SEiXFGQAKY3uFRmZTtuAHqQzJIvX.UbLrcsxcL8pSBJZWPoS4uNuq26esR_.YDR80d9_.XqS.V.BRaoDHOXuvRyg7cWVWGgeahfxZE_Tt3c; path=/; expires=Sun, 09-Nov-25 22:42:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=oLEuuDnTIhfuLogNl1zM0G_skZ_EySnCp3q5brgCNeQ-1762726378873-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a79bab668095-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_65fdf86344ae494191b863b6622fe525',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.boweryballroom.com/calendar: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: The Bowery Ballroom

üöÄ Processing source: Brooklyn Bowl
üîç Discovering URLs for brooklynbowl.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.brooklynbowl.com/events/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.brooklynbowl.com/events/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_880b3f3a321b49a69cb74fd030f76758',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=MKVXUHEcv.IQ3CIM_veHm52wP034gFCIpz_gOP15jB0-1762726399-1.0.1.1-8nIs9bQQIXUts2ZvQS_wou6gwBUpcwh8QpetEfm9W8cqHQeODI8tkASOzDwYVWtMA.xY9a2ySKWYEG3yksj0oUERtav4PcF5mf5OtFGttF4; path=/; expires=Sun, 09-Nov-25 22:43:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=BCodz3PCOlUXuZEDX1ao9k_GlUglV5mf63ZmuoLxgtk-1762726399569-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a81caaf7de6d-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_880b3f3a321b49a69cb74fd030f76758',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5rjYb71wSqNuCDoEZC"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a81db94f8e3e-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5rjYb71wSqNuCDoEZC',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '24',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5rjYb71wSqNuCDoEZC',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5rjYb71wSqNuCDoEZC'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5rk8ozMXevJfwyhgxB"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a81e7d70b4c6-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5rk8ozMXevJfwyhgxB',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '43',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5rk8ozMXevJfwyhgxB',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5rk8ozMXevJfwyhgxB'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_06ffc180d1bc4f4c8bd59598bea15194',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=0jNuCd6UBqriLq54BTGatE_CXK6eweDBNRfCsbBaH_c-1762726399-1.0.1.1-A17YighzwaKkm2htDRgWDwpMR_rm9EZgIO6bBqu0pqBd5DgqFV4z.Po2AqDOF6sRJ26ehVwxe.sq6n5POMH_JzHdJ_nfgpXW3Oihs9UNmmo; path=/; expires=Sun, 09-Nov-25 22:43:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=bygcQnbMVtWRK1zCdtzHxtsNAbvb.m1WhXNs.exZ1J8-1762726399947-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a81f186fde6d-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_06ffc180d1bc4f4c8bd59598bea15194',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:20 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_35e08ee248f049b4b26dda90d1a48bfd',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=wcHCSeq5y8DFE7WPF12RIBNjP81QHoU8FWKUoZzjPv0-1762726400-1.0.1.1-zstl7RNbFgHLgqtLfjK9X3bxbpnp2wZNy54NnC7fgcOGfQS4BO768z2tnnMSYD5C41Sn_Xyz3jF5KPsQddGnBJ6J926O2AN9CksbEj.9bxA; path=/; expires=Sun, 09-Nov-25 22:43:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=jIAL1s8bMALp8vCRMtd2p2qd.O1DvF20.EbsEPNhEvc-1762726400119-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a8201df50edf-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_35e08ee248f049b4b26dda90d1a48bfd',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:21 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_240d1285711841cd8502c1d5847bb461',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Ga1fcgJw.XiZ3vlEEffUx07QmiaWUhNxqJULx3_x_sU-1762726401-1.0.1.1-5hWuuG0a5A6ixVV96u.MFcesLk3gibGs3NkkkppZfz_zMFAGqm.0inUGNxzyR2Q2zYrDtaAWPfkgRjr82hKCn4lOOGhWhKg.ghVb2R6cX7A; path=/; expires=Sun, 09-Nov-25 22:43:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=7h2DyYVFD7xFo8whOlHEavuetLrtTQVaHa6Wd1Qej3E-1762726401355-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a827ebe7de6d-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_240d1285711841cd8502c1d5847bb461',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5rs3HiZDc42SR6M3Si"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:21 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a828a9e38e3e-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5rs3HiZDc42SR6M3Si',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5rs3HiZDc42SR6M3Si',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5rs3HiZDc42SR6M3Si'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5rsMtaCZup5NxgX7g9"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:21 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0a8291e66b4c6-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5rsMtaCZup5NxgX7g9',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5rsMtaCZup5NxgX7g9',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5rsMtaCZup5NxgX7g9'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:21 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_35e2e3eb68324f0193103123d0bbab1d',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=8rGrRLfZYTBt9I5P5Ll2R6PRgRxdk8eEudVHKOfNUQE-1762726401-1.0.1.1-UP2LUkgWZKUaiYwEUgdcTgS0419KJycCWuqYqx5QBTwxB12Mak8P7DloVs7r8ibTQ4RM437CfBhe00IKmXl4ZdMwA34SK9gV0Z55NPYTj38; path=/; expires=Sun, 09-Nov-25 22:43:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=yOuJjzWbw0_gsXNouOvcgARvs9.UwenhewaAzh39FR8-1762726401623-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a8299fb2de6d-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_35e2e3eb68324f0193103123d0bbab1d',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
üéâ Extracted 0 events total
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:13:21 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2d54eaa8a4764149bd40a4b6a26fbc15',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=wD63KWr.9_EW.tZ3mmP4wZzxABFF9F0EUwVqVIWSmJI-1762726401-1.0.1.1-vmfkgOmhZOnXHRLE2RASxTiP6_XWsyy2zTo_Lor0XBrJ70WT4gUZi1AP5CoEix99KXZ3Q4rFW9ToyI3JAuluF24UuJcPxMUbr2FLifeJDL8; path=/; expires=Sun, 09-Nov-25 22:43:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=7WekqJF4IeiDPxBjke4Rd1whHnWjFDwuU2aggpAvB_4-1762726401755-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0a82a49420edf-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2d54eaa8a4764149bd40a4b6a26fbc15',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.brooklynbowl.com/events/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Brooklyn Bowl

üöÄ Processing source: Comedy Cellar
üîç Discovering URLs for comedycellar.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
Retry 1/3 after 1000ms...
‚úÖ Crawled: https://www.comedycellar.com/shows/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.comedycellar.com/shows/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:58 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_66f743297f504763a5801582f2f62436',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=DyQWTkkPU4w1aw85Chk4glKsfDIJjP6njzo_ogxjpbs-1762726498-1.0.1.1-CveZBQ0791eI0Es0VCGL6V5_6AoHzpiLB54lg15oNoXq8AxVYiPpHbRDAHYnmViL1bTBMty6IPavF7hPvc13jZDPBqiEgNI9KyGBUIo0ivw; path=/; expires=Sun, 09-Nov-25 22:44:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=CmOSdrrl3aHpX0rQBBKmFQwd7X.8oOQ66fSmjgx9I88-1762726498422-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aa86d9b51f03-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_66f743297f504763a5801582f2f62436',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5z2EsrZUATCtjBavLj"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:58 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0aa87ab15cc62-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5z2EsrZUATCtjBavLj',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5z2EsrZUATCtjBavLj',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5z2EsrZUATCtjBavLj'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5z2nsXwZt1izmp3VXP"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:58 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0aa88581caa9f-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5z2nsXwZt1izmp3VXP',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '41',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5z2nsXwZt1izmp3VXP',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5z2nsXwZt1izmp3VXP'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:58 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_aab9df56f48b46108163bb135ab54ff0',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=izZy4Zx9Zh6wWlV874jelBq7B_6VLWYLvstFZrYYiNI-1762726498-1.0.1.1-XheZHwtgrWj86hOzxm.vbAhqq78DcFJ3Egzgn6xtuOaBi57.IrZr1zXsoT5pjPgEl0uxl.8wKm6rE5OwHGsLWGJh2iw.40nUHgxZoVV4rjo; path=/; expires=Sun, 09-Nov-25 22:44:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=iLAqzr08J4UuTHwqi4dBDzZd.psDK3ZA4V.YavZn4VQ-1762726498809-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aa88fe6a1f03-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_aab9df56f48b46108163bb135ab54ff0',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:58 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_47059f1a6db94f30b7961924cf7eeb72',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=jFFaXkYtKt0SXsPCzPO3dJvUN.o6OdA_i.1j8WSJ_W0-1762726498-1.0.1.1-frCRLwXHJPiDVtJ69YMjNsOxGGwfOzdw6KxXpwAktljxZah5NC52q7jaGTZU.zitjvCWxLzhFnL43xjtEI1Ag2j89vJI.C6Tmv9tw5XHzU8; path=/; expires=Sun, 09-Nov-25 22:44:58 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=wmvIhqNVeZKBI8JRO5vWbM2mGomqVNOp.D6GpeC0mWg-1762726498964-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aa89e9ef4295-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_47059f1a6db94f30b7961924cf7eeb72',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:59 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_cd33505674ac4861b6cb9f6ae934b72f',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=8rS1c.8LMoM6jWWkgMYGQz_FCN9uxbKDQb1D4TNcU40-1762726499-1.0.1.1-cRqD02eieNOi8BpM8Jyasl1lutvGYQBwHbWbqIykzQa8MV61aqeCz01DDo1SqILKbMcPMH48ct.swnm0nV_zzKKdokyINew8F22ImiDArM0; path=/; expires=Sun, 09-Nov-25 22:44:59 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=hSt_MaEZxx9UAywkjYQpvg9D46vXz60UpDGM51MY1P0-1762726499870-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aa8feb9b1f03-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_cd33505674ac4861b6cb9f6ae934b72f',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5z8A5HArqM4nhMi1L2"}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:59 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0aa904e79cc62-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5z8A5HArqM4nhMi1L2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5z8A5HArqM4nhMi1L2',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5z8A5HArqM4nhMi1L2'
  }
}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy5z8QxRUPQSYPK3sRXA"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:14:59 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0aa90a9baaa9f-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy5z8QxRUPQSYPK3sRXA',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '15',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy5z8QxRUPQSYPK3sRXA',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy5z8QxRUPQSYPK3sRXA'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:00 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9b31c6a956c34541babdc7cad00d4886',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=weAJazvNR0KMzzdmwyRFA32bwx7xJlvAqpEAbVHcpbw-1762726500-1.0.1.1-axmJdsTlF29lI1eFuygMIVPXQX1xjXbkhBLsRDxDIQXnFNhygo0cuxaAAagd9f5p7sNP8Bb4Oq1MinXOw0sBwJLdgtxAVJE9igsC84xu5jo; path=/; expires=Sun, 09-Nov-25 22:45:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=YvFwod1ltujr8vZSD4FI4BCCeVvaqfzq7oerXPX7iZU-1762726500095-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aa90fe4b1f03-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9b31c6a956c34541babdc7cad00d4886',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
üéâ Extracted 0 events total
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:00 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_384350c21f8942cc809ea9b3d6f287c9',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=6GxUtYxbVhrpk2AItgdhk_ZuurpCI1DdwPy6goZzVv0-1762726500-1.0.1.1-Brw3y7UQEJ4R.4Oz5PEZ6QIdvVVVr4ljLOJ95XUL.2A9LBEFdhkUmU2YCV5zNj3z15_HwxfizKTgpzIekrj2qKBzVKwhgnYBB2mqcwmPKqI; path=/; expires=Sun, 09-Nov-25 22:45:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=5Xj4Yy5lNfud0w41iWId4LtdGgTOETZHLTC6qF3TsZw-1762726500177-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aa91bf244295-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_384350c21f8942cc809ea9b3d6f287c9',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.comedycellar.com/shows/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Comedy Cellar

üöÄ Processing source: UCB Theatre
üîç Discovering URLs for ucbtheatre.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://ucbtheatre.com/shows
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://ucbtheatre.com/shows...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:17 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5303c7a98f0d4d39b7025ad2e4b04214',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=6PtSjTbRd81sVRV_5i3FiQqvNo1vLopQ8t6faSs6eA0-1762726517-1.0.1.1-DrmZR8gLigACZUQfWLrsIps1nYDR0Td0HM8ffUtEqZh4JEbuWFq0uD6yK11VSWJFWgmlpBW9f0bFCmL5gqDdp2EANHn4gz5AmYqtmfxxUgM; path=/; expires=Sun, 09-Nov-25 22:45:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=GXJ4Mg8Rh_x7TG9J9IUc_ZJivCb._9VIROjnixdOfRY-1762726517815-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aaffee704219-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5303c7a98f0d4d39b7025ad2e4b04214',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy61T5PmM8y1WD1hxS6F"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:17 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ab00a8a7659d-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy61T5PmM8y1WD1hxS6F',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy61T5PmM8y1WD1hxS6F',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy61T5PmM8y1WD1hxS6F'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy61TaAPFZvEbyE7PHrX"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:18 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ab016de66e53-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy61TaAPFZvEbyE7PHrX',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy61TaAPFZvEbyE7PHrX',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy61TaAPFZvEbyE7PHrX'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:18 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_0adb7da9bd9d446393871ac3709092a1',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=jroPZzrRcQSZW0KRC6MRh9hIK32cXLjLuaW_WbfzvAA-1762726518-1.0.1.1-vnPeH5XaGA74Cy08aoippJv1GY9G65M4dB2Czr75kncoMUkf5QLICX4pefm7YxE.aaCBos5EyGcM93X4p_8peaBE6myxN8Pa_An1wXfaeNA; path=/; expires=Sun, 09-Nov-25 22:45:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=YE0u5tmdkvWp0kTI0HDtg9f.x0PHrZs2l0bHay1Bqy0-1762726518189-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ab01cf684219-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_0adb7da9bd9d446393871ac3709092a1',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:18 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f15d9693b7fc42798f94c13446f53fc2',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=UO8M9QxCQiT.AAqRcfTsc3s0TRnTSAhAT7huCS7sSU0-1762726518-1.0.1.1-1V7JG2mBiOUoN9.O302pTUPxfJrjrT7nkEnpXzjw7VkUhSVJMvgpLNw0MRNSc.I38tGyjFtZUcX2PoQmed.uHfY8xXtDb0Oc1KOGx6ebvaA; path=/; expires=Sun, 09-Nov-25 22:45:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=WNFGLUu_vfmJ4eu9MNrnHuVe6hWGKPlrAxoDen96FTo-1762726518341-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ab030a33b785-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f15d9693b7fc42798f94c13446f53fc2',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_13c5af0b3e2f4e0f9746cb9a782befc8',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=quWnxUWP9OZo4TnwNbekqlmc9B_YOB_7FGNiS7RWDto-1762726519-1.0.1.1-mn4SpMyCfYKWVibeLeef1d35gPiNsD6_MwNKXEby7jJrd9UwYd6wU8.46E.jr.nBpSp.IuusLH3w_SXh7VXdwYLzFCr19VUp2_OHEUb0g2U; path=/; expires=Sun, 09-Nov-25 22:45:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=hweAjtCBda.QwGzs4sGfX4t7ib.2FMZk7Ca4TVSuzUA-1762726519750-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ab0bce6f4219-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_13c5af0b3e2f4e0f9746cb9a782befc8',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy61bCJ86EqenvQs1VzG"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ab0c9b0c659d-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy61bCJ86EqenvQs1VzG',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '55',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy61bCJ86EqenvQs1VzG',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy61bCJ86EqenvQs1VzG'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy61bcqytWtWH6fBZbZj"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ab0d392b6e53-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy61bcqytWtWH6fBZbZj',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy61bcqytWtWH6fBZbZj',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy61bcqytWtWH6fBZbZj'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:15:20 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_cb43f923ecfd484991a26b63993a15dc',
    'x-envoy-upstream-service-time': '4',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=WBh4zNzcAU.9mH8E.5UosRMH8N2hGi7J7EXRw7OBrvU-1762726520-1.0.1.1-YhHSD3HB7PcdqXDt_68YhfhIKVhkqMatCMxUgdetp.lmPy0ARywXwR.fhZRYHJWdobtGKayI5NLeDPDuCBYnguLz1PDtVmZ7pIwHTFNDANs; path=/; expires=Sun, 09-Nov-25 22:45:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=evi28AIGdg970amxvYnrZF_XIXmf7876BUNRuomjL.k-1762726520081-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ab0dbfaf4219-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_cb43f923ecfd484991a26b63993a15dc',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
üéâ Extracted 0 events total
    date: 'Sun, 09 Nov 2025 22:15:20 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_33fa596cf5c542a1a89a38fee2145017',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=bGK6tLqjSSnEe.vOXeNjGUwFncrRJpfkSurX.n4ZczQ-1762726520-1.0.1.1-oDWsPg9BMX64bAPo.P1YWmWoX09e9.k.N1_uv7BuZY.gIkVn6qKcYYzrLnGkwBzEmfRuaIU3qR.V99_V1U7DhoalowBnlX0qzyTdTmwqu8k; path=/; expires=Sun, 09-Nov-25 22:45:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=kovT3Aux0n9IjDGrHI26QdNXZiWX5iDuqutcaVTWyn4-1762726520152-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ab0eadd7b785-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_33fa596cf5c542a1a89a38fee2145017',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://ucbtheatre.com/shows: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: UCB Theatre

üöÄ Processing source: Brooklyn Academy of Music
üîç Discovering URLs for bam.org
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
5:15:32 PM [tsx] change in ./src\index.ts Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
üë∑ CityPass Worker starting...
üìã Found 15 active sources

üöÄ Processing source: The Bowery Ballroom
üîç Discovering URLs for boweryballroom.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.boweryballroom.com/calendar
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.boweryballroom.com/calendar...
Redis Client Connected
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:11 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_30fa73f094a29f19b60340ad5acc0c4c',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=kRbwlRT44tKvYZ77ZjFM1ecU8.lPE4MiaU6_hnzSo44-1762726571-1.0.1.1-aH2CrrNIMTIfwhwvSnp6YYtbIZ1ULufuP1O0eBWvg13RqYea1sR0Ygy2f5dLa8wgwSH9SWKxU4MRN6Vse7Mm633_5ndQvnQ0IzsX_V0q30M; path=/; expires=Sun, 09-Nov-25 22:46:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=1IkEjhu3FXx5Cf.3itvWV.kNu0mmXAGRGgfFZW2X3lg-1762726571817-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ac517ebb15bb-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_30fa73f094a29f19b60340ad5acc0c4c',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy65S8hfgsxsVjFA2tW3"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:11 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ac526d371914-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy65S8hfgsxsVjFA2tW3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy65S8hfgsxsVjFA2tW3',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy65S8hfgsxsVjFA2tW3'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy65ShSAqAxTdfiH2n3m"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:12 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ac534848e3ac-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy65ShSAqAxTdfiH2n3m',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '21',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy65ShSAqAxTdfiH2n3m',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy65ShSAqAxTdfiH2n3m'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:12 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_05d0573077b84e609e33cc50fc1387d6',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=NrBZvNxB_PahkC2kd7IgIKYG7KktSqh5qICQfaxKpQQ-1762726572-1.0.1.1-cVUNPCOpud_rxKUGNPJSTYKLUhH9SccmogwEEd4EykXD_1N54rTOp9MoIWMbcoN9DIHEroOTqpzc2phasSxiuqw9B4sJVXxvRmuCpgExH6s; path=/; expires=Sun, 09-Nov-25 22:46:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Y_ChL8PkPrZxjlWFGghwjvmP2kyp.uOVJhEXpvg7i94-1762726572223-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ac53cff815bb-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_05d0573077b84e609e33cc50fc1387d6',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:12 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_63888aeb329645cbb782323493f7b650',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=uF9fEPmNZIfoykixX6eCwvVQ_Q7Tm.Cwh7LqHHEUS88-1762726572-1.0.1.1-_.MoHn1i7wAx28iAMPLQ1TY.LD_RrRew_ljHJFuq0zF5TzdAn_dnJXOAYbz5GdSK57pJJfxpTW1JKpERV.Eov0v5E9I_DRpZxpndhh4dYvY; path=/; expires=Sun, 09-Nov-25 22:46:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=oKTxjQRYNbaabPvX5Jmzo.QQtAsSl4ISwjplGLvzOxM-1762726572391-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ac54de63f7ee-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_63888aeb329645cbb782323493f7b650',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:13 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_28287fe7dbc742e6a8aa94ecce43fff6',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=MgEhc.sz9eqTjqjo07z4BnG6QMxe8FV9PPTY3DYzaG0-1762726573-1.0.1.1-dFGxB6m_5o0qOXKAMQ0vn2j7bHEfFnp6LNOD2dRMJQrZQdhmEOGB53cqD_v7EO.g1xwkA3zkTb_0DZsMlam8f4.Jkc8Vrn6sgvqwaZa2who; path=/; expires=Sun, 09-Nov-25 22:46:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=xxlGIdaghGhkM.tkdyJar6fLgsErYIDDs1BDMRAUEao-1762726573396-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ac5b5c7815bb-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_28287fe7dbc742e6a8aa94ecce43fff6',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy65Ye81Rn38ughda7UU"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:13 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ac5bfb831914-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy65Ye81Rn38ughda7UU',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '15',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy65Ye81Rn38ughda7UU',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy65Ye81Rn38ughda7UU'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy65YwiuGbKypKaxukK9"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:13 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ac5c7ca7e3ac-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy65YwiuGbKypKaxukK9',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy65YwiuGbKypKaxukK9',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy65YwiuGbKypKaxukK9'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:13 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_4188f44237964c1c864df372e3eb2231',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=pIC8yWh.re7ejuV.nVAGgz6SPUzbMD.37rM0db9J6k4-1762726573-1.0.1.1-Att.3_scPYmKjIVdZo0N32T7dz_UyDUaei1rGwx7fanfN0MWXoS7OvDe5LlmqkJW2Z0BL5uyyYnpWnyYJFrnEs0fVR_Z9lK.a2vENIy7xjs; path=/; expires=Sun, 09-Nov-25 22:46:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=2ZTLnoruDVNckplzGtTBoYEoigP29CxD88GDqBUEMbg-1762726573640-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ac5ced3e15bb-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_4188f44237964c1c864df372e3eb2231',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
üéâ Extracted 0 events total
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:13 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9322e4c5cdae4c5ba19ed47e952780ce',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=h4p7aT6FmyH2Fbo6jj_BMRR9xb905ZYuVbXUT0rCZO4-1762726573-1.0.1.1-iLSeWJkMnKDSjoHQWFm6HX88sNy34TBvb3E2NljbjKlKzqmLGLHna2KVf6V0fwoN.Cc9ASPu.0I6ea_UZ6aZx3LkVe.PGZYDxz0uHRNrBa4; path=/; expires=Sun, 09-Nov-25 22:46:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=L96TxlD3LOZPMetwKwyv7tgakOOCv.wpOhv6DuLAAfM-1762726573754-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ac5d6890f7ee-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9322e4c5cdae4c5ba19ed47e952780ce',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.boweryballroom.com/calendar: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: The Bowery Ballroom

üöÄ Processing source: Brooklyn Bowl
üîç Discovering URLs for brooklynbowl.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.brooklynbowl.com/events/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.brooklynbowl.com/events/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:30 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_3a9eead3ed7d4d42a0905c927df09d4c',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=MTUhhA3y0tGv0AvYtczD7XRJECIrPZketFF9Em6fa_U-1762726590-1.0.1.1-PrKHecQ84j0qO690a6eWo02XKtlskqzS2AetiCP22pVPAYCYWW_9D7SWGamsrpKpPdMxnVvrDShBAQkoBgXdhB0Op85sEm1kAyD2bSAMPss; path=/; expires=Sun, 09-Nov-25 22:46:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=6Ht5tHGyfVwOqGzMe8gfwUB0TVXBX6Y9lC4nbeaN.to-1762726590860-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0acc84a7de640-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_3a9eead3ed7d4d42a0905c927df09d4c',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy66qTgT2CbQW6YAD1UK"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:30 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0acc94ef77ca5-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy66qTgT2CbQW6YAD1UK',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '31',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy66qTgT2CbQW6YAD1UK',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy66qTgT2CbQW6YAD1UK'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy66r1B4G6uY6LeUk9qd"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:31 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0acca192d134a-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy66r1B4G6uY6LeUk9qd',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy66r1B4G6uY6LeUk9qd',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy66r1B4G6uY6LeUk9qd'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:31 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_45f46e9789e74aeab162e5c67f35a2bb',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=LWsXng2f2UvPaGxOEXt5OC0P09dAYeE8W5pjEI98R0M-1762726591-1.0.1.1-dy1DW4UghN9CST..eCl4MbkSl5QCzmIi5hbCbj0UA_48uJTgHqmr1z7MkWCv0QQp8I1f.OZh5BRVBxJWg6eBLV2Qbue0dV.C1RC3iwlV660; path=/; expires=Sun, 09-Nov-25 22:46:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Y9laBp8uECcYYLfk1xw708QpBIOdUSfxIJU3jrc.53k-1762726591229-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0acca98fce640-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_45f46e9789e74aeab162e5c67f35a2bb',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:31 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_c7fe4ce9f1c24fef935dfecb8ad24519',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=g2RLdpYB9d8.N7Wmv5lSW_gHv99jhI_FEvuK0Twfsd8-1762726591-1.0.1.1-Lp93eoQRTeQ7H75sTtFWewq47pbDsZs7C8Vsk4ILl3gZ6oZkLdle7yCe5.UdkbQLclz8L_vFP.jiBORa2SDQUn6cFERLnQ4FeqqWXmKfaxQ; path=/; expires=Sun, 09-Nov-25 22:46:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=i5IvzXp.jftUIuX0.B6N7Eh3mrkh4YsKJGwaKWrT0Xg-1762726591409-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0accbda3c2365-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_c7fe4ce9f1c24fef935dfecb8ad24519',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:32 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_290576d12926440f80580cf79acbcc21',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=C2BPRL8TuHoyM1aTOZURw2k3untEkxtGyRiOPgkG8kE-1762726592-1.0.1.1-gaG2vPYWZKGy1RcQc3wMq9DQMptULjGcR3.WduF5FrqiFUcb1nxncVjymQ_wkeHaurByVlTWQXHsNe2BkkWzwpcveAPtE.xJ4LP35oDKJog; path=/; expires=Sun, 09-Nov-25 22:46:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=8XFPXcdQ8jWRHpo4Sr6CR5ZJE7FnmOrdJ5x9r3AvTyU-1762726592536-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0acd2ba5ee640-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_290576d12926440f80580cf79acbcc21',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy66xQ9LQJfpAsRhXHfv"}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:32 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0acd37f467ca5-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy66xQ9LQJfpAsRhXHfv',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy66xQ9LQJfpAsRhXHfv',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy66xQ9LQJfpAsRhXHfv'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy66xkyTbkRgRGh4iDZG"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:32 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0acd40973134a-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy66xkyTbkRgRGh4iDZG',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy66xkyTbkRgRGh4iDZG',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy66xkyTbkRgRGh4iDZG'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:32 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_11e1d01621154020904c326672a3411d',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=RBZXGIgRlQIHNQjaeBfOBsI0rr.7bszJnKT8iv0biDQ-1762726592-1.0.1.1-ym0PPmrtdN10nFuHmW6o9rzhl1EJJMfDwiP0.8SQJtWDsMb8zhnN47PKlAs1Utcy9nUb1ii_6y4k7sGXsW0lGgiD5W19HiJNbXvlXS4Rfzw; path=/; expires=Sun, 09-Nov-25 22:46:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=0DGCxFh53Nr3TalFQZGCmqdWYlXRW9CiTc5u72XeHE0-1762726592777-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0acd47dd4e640-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_11e1d01621154020904c326672a3411d',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:32 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
üéâ Extracted 0 events total
    vary: 'Origin',
    'x-request-id': 'req_3b4e64b8072c4b20a3b43aff9ead0104',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=yDobmS4wSRooylR7sLXv62X1GecuJLU458mHbb.cCP4-1762726592-1.0.1.1-j_1t7LdebuSgeBmIYmVKn8AFQWYkWkOoJApzXr1JpCXDqffCZnI8rhfLnboxROq5C3VgkaB8tT7SoDMUN7L1524mejHFnIkhgSlAmkvIo40; path=/; expires=Sun, 09-Nov-25 22:46:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=RwX6wRQ04yUKmdRDUkm.iv7.cllu1qMqzcTXzxTRXCI-1762726592897-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0acd50fb52365-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_3b4e64b8072c4b20a3b43aff9ead0104',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.brooklynbowl.com/events/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Brooklyn Bowl

üöÄ Processing source: Comedy Cellar
üîç Discovering URLs for comedycellar.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.comedycellar.com/shows/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.comedycellar.com/shows/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:50 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_fc4dca1dfc574a6d9837ecfffc7808b4',
    'x-envoy-upstream-service-time': '1',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Nu4W6tm_LJ168P95I1ZyLDoq5BuEEvZFvMgbI6fqeA8-1762726610-1.0.1.1-ZKrw2A_gl2itHZzA8XEZCrkw8rCi274GUy69T8GuVrSuE8t1e2o_emW7WhRPXB4KrDuy85.1Z8Duyu.txH5AIDjs.9s76.6Yb2UB40SfPK4; path=/; expires=Sun, 09-Nov-25 22:46:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=s5gAi0TKhqyWCmoySLAAt6fpbdQd_BXiwLpRQXmOHLM-1762726610416-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ad4228c34373-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_fc4dca1dfc574a6d9837ecfffc7808b4',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy68H4LJkYH2yqF8CNHY"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:50 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ad439ca6cc62-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy68H4LJkYH2yqF8CNHY',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy68H4LJkYH2yqF8CNHY',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy68H4LJkYH2yqF8CNHY'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy68HSu3dodCKdrYNvn2"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:50 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ad4419ad8c57-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy68HSu3dodCKdrYNvn2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy68HSu3dodCKdrYNvn2',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy68HSu3dodCKdrYNvn2'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:50 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_a9e0d49951334a60ac18ee0b98ad7ed7',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=vMIZ5AxjmyUa8jHUTs9AuLsV_4XkNd6fIQts0oQ3sk8-1762726610-1.0.1.1-63t2IxYJLCv8vBrKpQ1iU9FD88veaeINLbAlS9TwB61eHAVB9YDyL.dvGh36HPZkpHg1FH7s1nF4umO6S0T1Qga.Er0NEJeg0TyQ5TT0gX8; path=/; expires=Sun, 09-Nov-25 22:46:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=mp90fY_MDzqoKLwtvfbo.BAoCt9jpfo_ldRd5zZbqto-1762726610698-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ad447a5e4373-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_a9e0d49951334a60ac18ee0b98ad7ed7',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:50 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_dca1d7310b2d4f289814f2f7633110a0',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=eCBQayFmNLePi9z4GYLL8CCVlBRNArzvm0wyeLLvkAo-1762726610-1.0.1.1-2XqE1KjdtlBCftCCbB8CwF4KrUR_oXyWe5PX0vLH.z6TR8vn40ORLD0z5JMI8JPnMZwmajC4cbRTRb4RkoGpVUmLWDaDTzl8ADV_ZRoZ4Ko; path=/; expires=Sun, 09-Nov-25 22:46:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=wkM6IlSI.5PeSZNwV408xUKapG7XeuwfV2U3Ui5xXn4-1762726610846-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ad453b687279-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_dca1d7310b2d4f289814f2f7633110a0',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Attempting local tier (local/llama3.1:8b)...
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:52 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_12d3d26ec34b4ca086cf2524093a19f4',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=uaNAsmXjx8dXQb2FRl9sPddoVp6aG2YmtfSeg8kt7PE-1762726612-1.0.1.1-97AQb8Me.CVT8DoWR16XOHd2GE.vtfl78nvJl4ifG6m2VBywfzPMNpY3SLs0ZC0LxJ5pOSBH8ffz278DqlomplTVjZDwYA2mgguriNX7pfc; path=/; expires=Sun, 09-Nov-25 22:46:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=.h92i0517KCnTxQfXD0_7rOn1wTNcVSI.7lKhfq1hLI-1762726612347-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ad4ec9ff4373-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_12d3d26ec34b4ca086cf2524093a19f4',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy68R62tNXV8xyfK6oRq"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:52 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ad4f4819cc62-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy68R62tNXV8xyfK6oRq',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '22',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy68R62tNXV8xyfK6oRq',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy68R62tNXV8xyfK6oRq'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy68RMeo13rX62nU5q6v"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:52 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ad4fb8628c57-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy68RMeo13rX62nU5q6v',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy68RMeo13rX62nU5q6v',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy68RMeo13rX62nU5q6v'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:52 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_7cf9029c7b2d4192a2adb7ae8a66396b',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=emEUhI2fgoRVdAcYt7Ry4lxy70xS5qF4mvQ8R.8.s.o-1762726612-1.0.1.1-pU3gwFjBqr.Y2jN4qdUOCw48kymzaAxzLfXpfclXohf_at.OqXUeN5oDaJmx.yH_ZQY7QH0QQF9vKItNLjP.wVuuJ8hTswtgNIaXZcj9A1A; path=/; expires=Sun, 09-Nov-25 22:46:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=84tZYIGUxN8hhTkAMiGa71L_IaJb6cpd1sOWA3d4wag-1762726612583-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ad501af24373-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_7cf9029c7b2d4192a2adb7ae8a66396b',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
üéâ Extracted 0 events total
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:16:52 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_4539f08bb2ea4378bccef13bb67447e8',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=3L.XU7CIHZDIPp7aA7I..f.uP8pG.la6iHoB5XKgEko-1762726612-1.0.1.1-ftjywqiOpCPawiZlnq25VGrvof26BSFPrsOecNd0._w3oLqxSMcX6qzzdg9WWL.zwxr_E0II6l3AFooPk4UtpOaNfzgqKbZ7ivEb0fpDAa4; path=/; expires=Sun, 09-Nov-25 22:46:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Ca9IhWA3ufPuWtYYY_PFjscV785BqvbOW9LvCOT4OSc-1762726612679-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ad50cc347279-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_4539f08bb2ea4378bccef13bb67447e8',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://www.comedycellar.com/shows/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Comedy Cellar

üöÄ Processing source: UCB Theatre
üîç Discovering URLs for ucbtheatre.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://ucbtheatre.com/shows
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://ucbtheatre.com/shows...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:07 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_840b84d4db4d4f8c9ea484c7c7505666',
    'x-envoy-upstream-service-time': '2',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=1hWk_MO81ITafT2Czo.i9dkBDKFzFQRcQ5zIGQqceEc-1762726627-1.0.1.1-o1DTRuflsfE_WxqUV2oF5l29nHN4xDYFmbdN7zQ4UoFGr2IEmXaL4gaksJeatO_bt7HEOBS3dqCy9tjaxmDHVVuQKuSTqPYBy18iKIBTowI; path=/; expires=Sun, 09-Nov-25 22:47:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=1NrkDXCFn5Xk5uJkdmmkyW0ckRkEu2rgxe7GljWaICw-1762726627934-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0adafc9b6f5f8-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_840b84d4db4d4f8c9ea484c7c7505666',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy69ZwceVHSLa64D8Q1r"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:08 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0adb0f93fc34d-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy69ZwceVHSLa64D8Q1r',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '12',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy69ZwceVHSLa64D8Q1r',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy69ZwceVHSLa64D8Q1r'
  }
}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy69aNupfHkLZL2ZEubi"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:08 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0adb19a4cc334-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy69aNupfHkLZL2ZEubi',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '15',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy69aNupfHkLZL2ZEubi',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy69aNupfHkLZL2ZEubi'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:08 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_e9e9f40703f44d78856322aa08a856ef',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=xW4yd6RwNXxAXoSVC_sz6gr5NeOVB4RWfD835sRWAvE-1762726628-1.0.1.1-lECDfrca.H5StKiV7a8Nqpt9CugXpNcE3.u34oiyuku8SDHr1R24bbqZ4vZFeb_r8_yjq5tGxQOh1jHF_ShLNfYpLkqQZBwE9KetrYDchpg; path=/; expires=Sun, 09-Nov-25 22:47:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=fMYeGxJgRuNqe80WjtBDM0veLZhFNAbo.cAfmoHQv44-1762726628233-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0adb21838f5f8-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_e9e9f40703f44d78856322aa08a856ef',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:08 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_ab02149b897f4210b7e04e061fed253d',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=MzalZC8f1ydCZcmRIbkzYdFRwN8M3NJq6xTKrsuNRVQ-1762726628-1.0.1.1-sxMZH7yxEdn5BWWXz5tkSTSHIhQTTzfkL7LIY27b8zsV8lWZfnohbq6aN7gnx5mcbytyGnNMN052FYn7SiFlHggrvJFDeA1zFDEdTP7DYYI; path=/; expires=Sun, 09-Nov-25 22:47:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=YWANjrAt_PZuodynipY596hRLlCsnLVt7VSD_u.j6nc-1762726628362-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0adb2dce472b7-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_ab02149b897f4210b7e04e061fed253d',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Attempting local tier (local/llama3.1:8b)...
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:09 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_38c59b90c1884687b7aff61883a22590',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=auP7fE2AnG49pe7VWoSIuxZbTKDOIgsW0kzmoGev1xM-1762726629-1.0.1.1-Rp4c4dEqEP7jucNQ5MMwn2dKx7lAGkidfayD3OC_jQr6skOJw0slDpr1ubuHypJpBqQIi5lmRmIr4Hwk0isVLCb5G27_obx7E4L.lk5Elnw; path=/; expires=Sun, 09-Nov-25 22:47:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=X7Msnx6ofah6HhKgl1j1zIw8Td5BFyasBC8Y1lqJjdI-1762726629331-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0adb8f9a9f5f8-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_38c59b90c1884687b7aff61883a22590',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy69gXVeg9kSrsDmfyot"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:09 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0adb96fa9c34d-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy69gXVeg9kSrsDmfyot',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '245',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy69gXVeg9kSrsDmfyot',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy69gXVeg9kSrsDmfyot'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy69gzXS2Nb3CMHd36B5"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:09 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0adbb4b44c334-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy69gzXS2Nb3CMHd36B5',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '17',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy69gzXS2Nb3CMHd36B5',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy69gzXS2Nb3CMHd36B5'
  }
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:09 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b503bb16a87c4feeb8ecca31b2a92868',
    'x-envoy-upstream-service-time': '0',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=wUjH4HdrCWBI5UfMaB6UZn_EIu0tlQoxakylc5Xrc8A-1762726629-1.0.1.1-40l_QDaXbKosY3zjGqXE84n.Neosvl3kWjHvA3LVnFZHvieHxJkcyp3vTkvdrjTHYVj.E72XhbOb1bQFrzMcLD2zbZVoYlaN6JeYFW_t6HI; path=/; expires=Sun, 09-Nov-25 22:47:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=E7zTraBcPFk0G8WL.uulaDLNuREHm2mQ01DLQsV7ay8-1762726629815-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0adbbb91df5f8-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b503bb16a87c4feeb8ecca31b2a92868',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: AuthenticationError: 401 You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:76:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:09 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '496',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5b91e73b9de542439ea724ec20bfc34d',
    'x-envoy-upstream-service-time': '0',
üéâ Extracted 0 events total
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=LXQ16QTQvOCmlp2VzN4vh8ilk1sb6gtI_H6y_smqJKU-1762726629-1.0.1.1-R0iJ1SACk9vCv6fzU2QEXloUTCIyR4_5win5SakaYs1GNnPtsclKKI_gNgvYMpHbna8cbkFxdWX2JF.gZKEnH4THF36v1K3K23hiZY7Cwms; path=/; expires=Sun, 09-Nov-25 22:47:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=CaeThY29a5ZCj85EHeFMwzCvHfE1PXSy21jx9wNWQus-1762726629890-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0adbc7c6572b7-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5b91e73b9de542439ea724ec20bfc34d',
  error: {
    message: "You didn't provide an API key. You need to provide your API key in an Authorization header using Bearer auth (i.e. Authorization: Bearer YOUR_KEY), or as the password field (with blank username) if you're accessing the API from your browser and are prompted for a username and password. You can obtain an API key from https://platform.openai.com/account/api-keys.",
    type: 'invalid_request_error',
    param: null,
    code: null
  },
  code: null,
  param: null,
  type: 'invalid_request_error'
}
‚ùå Extraction failed for https://ucbtheatre.com/shows: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: UCB Theatre

üöÄ Processing source: Brooklyn Academy of Music
üîç Discovering URLs for bam.org
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
5:17:14 PM [tsx] change in ./..\..\packages\llm\src\extraction-openai.ts Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
üë∑ CityPass Worker starting...
üìã Found 15 active sources

üöÄ Processing source: The Bowery Ballroom
üîç Discovering URLs for boweryballroom.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.boweryballroom.com/calendar
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.boweryballroom.com/calendar...
Redis Client Connected
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:45 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_60328ff9da23476094c1b911aef9b554',
    'x-envoy-upstream-service-time': '114',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=bYm.Frn2O_r1vzfKaP4R1t4uqpetUo8QTCmJlMdVh9o-1762726665-1.0.1.1-h3h9L8rOyZ8k9kJpY43wI8SVKMhLnO0j_f6ExevSJUoieEyW0d8c7WKbA4jBQ_lquvy9.q8TzVYxqtAT00XBQ.ErpLYBY8HaFEAKhtWtYlc; path=/; expires=Sun, 09-Nov-25 22:47:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=mrJODpbCkSR9dVW4NW7cfIYGnAQ_F0SMeDcuJ1t0.7Y-1762726665004-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ae94784043e2-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_60328ff9da23476094c1b911aef9b554',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6CJYVS4zPSMyC6Xt71"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:45 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ae98c9fc8c1d-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6CJYVS4zPSMyC6Xt71',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '16',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6CJYVS4zPSMyC6Xt71',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6CJYVS4zPSMyC6Xt71'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6CK4jy8W5QFRLBf77h"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:45 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0ae99adb127c6-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6CK4jy8W5QFRLBf77h',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6CK4jy8W5QFRLBf77h',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6CK4jy8W5QFRLBf77h'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:45 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9580e4905ec24091af73d069aed3bff9',
    'x-envoy-upstream-service-time': '122',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ON45HRu5VqLcBbrWOPLz1S_Defpn1SXOiPyzdHLoUlo-1762726665-1.0.1.1-Yx8CPG5nR0jIoBVUNYi1e98S6kmJjpo0od._2.blkl9ciSaG9fn5RmKrh63UP.3A725gH8CYw0fMSmYI6t4Kwlx8YvfMuCq1BRyxba3n61E; path=/; expires=Sun, 09-Nov-25 22:47:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Rh27qJnv2c5TdBZ8M3hONy55VYamjQawBKuLUF9USkE-1762726665930-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0ae9a1bf643e2-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9580e4905ec24091af73d069aed3bff9',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:47 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_37b8d7bc4f104d2ba72dae4d22e41b23',
    'x-envoy-upstream-service-time': '5',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=vXUj0.vDxhfHldxnarSuufoi0uYuKB6Tz5GepYzSSvI-1762726667-1.0.1.1-8G7tT5XL6g5yzEgxOJ0kL64bRW4LqH689FUYPp5.G0vFGc9puA.GAi3Zphxl5vGBI7GAY7M2SY_k71nzX5VmxBg.4EnfkQtbD.c5l4sH54c; path=/; expires=Sun, 09-Nov-25 22:47:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=PJROlgj818FPxTam2aDpJSD.To5I3bAsdQl_Pl2I39c-1762726667780-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aea8de9e43e2-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_37b8d7bc4f104d2ba72dae4d22e41b23',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Attempting local tier (local/llama3.1:8b)...
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:50 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_6bb605e88b0645d08ba526f433ec668a',
    'x-envoy-upstream-service-time': '17',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=DT0uTbI5WMjmXiQfd919vrWMg2w93wfkzvRkrocKCm8-1762726670-1.0.1.1-qRRlJyeXXMji_HyGp7XPzIfOFEd_OB.GyrEdIfn4U58aTv6Ev9Rnh.kLkSYkPct8wWxMIGvBVO6Yz3A7Qi57YFMpXTPigp8KrTZsOqEPeaU; path=/; expires=Sun, 09-Nov-25 22:47:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=e3nu_ZnwCTA07sPafNNEg3i16jC3XlIDDO9UABAmbBw-1762726670574-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aeba1b0443e2-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_6bb605e88b0645d08ba526f433ec668a',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6CiCnJcnNvwGRr1xgX"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:50 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0aebb7a9de73e-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6CiCnJcnNvwGRr1xgX',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '19',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6CiCnJcnNvwGRr1xgX',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6CiCnJcnNvwGRr1xgX'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6Cig4YNAsXjd8Ur9KB"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:50 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0aebc2a4443e7-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6Cig4YNAsXjd8Ur9KB',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6Cig4YNAsXjd8Ur9KB',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6Cig4YNAsXjd8Ur9KB'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:51 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_57147f0837644617829d70f1ae77b65a',
    'x-envoy-upstream-service-time': '202',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=q3GV.5RjJ3Z3axDraFM6lNz96DHkQtBImoDVUSEq.Vw-1762726671-1.0.1.1-Vl.gSUNY9gfhCpWnhYIlqtRlibsvoqFMVdONw4aaMkCCJ.ep3OLfA3gNlYgEyLpSKUh5hRGs7HlOxQG58ugICjSuM0ILPLk35EN6cgGRsho; path=/; expires=Sun, 09-Nov-25 22:47:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=vB3T_DATnRwVOSds90OryfEGZqDusG3se9SMEmqeTxU-1762726671491-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aebc9cbb43e2-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_57147f0837644617829d70f1ae77b65a',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:44:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:17:56 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
üéâ Extracted 0 events total
    vary: 'Origin',
    'x-request-id': 'req_d0a6ef402d934541b49b92aba0b6ffdf',
    'x-envoy-upstream-service-time': '6',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=xonFNq470pG54DwcOq1PqWGjejon0P0N6ugE08TCLh4-1762726676-1.0.1.1-YSxXmCzxhwfd5.kwkvjLr35OGEIUJUXuNTBkliR2skD1ilptxt3qMmBGMeddJa.p12QxRqKQDA67moWQS1JA0P7qToRYMWqq6Rl0t51Xf.4; path=/; expires=Sun, 09-Nov-25 22:47:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=eD4UUbnSVFGPI_hZRokTE06vtLYm_i9eTlCW3uflTfg-1762726676807-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0aee15e8d43e2-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d0a6ef402d934541b49b92aba0b6ffdf',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
‚ùå Extraction failed for https://www.boweryballroom.com/calendar: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: The Bowery Ballroom
5:17:58 PM [tsx] change in ./..\..\packages\llm\src\extraction-openai.ts Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
üë∑ CityPass Worker starting...
üìã Found 15 active sources

üöÄ Processing source: The Bowery Ballroom
üîç Discovering URLs for boweryballroom.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.boweryballroom.com/calendar
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.boweryballroom.com/calendar...
Redis Client Connected
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
[OpenAI Client] API key present: true, length: 164
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:26 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_7191c2cfeeee48769998ccc731f99125',
    'x-envoy-upstream-service-time': '3',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=FodYIhufbHY1WhWJXqNXlGjYjcTCrXVYlj0DZqJqTso-1762726706-1.0.1.1-Q4qmz3BAdUCUFVUgXqUGhIKVyOtJffqF7PwETxeVTZigPBZpeCU_ttzz2Ukor15uUJJYbCYEe0D5XL6Fkhg72H.iBt4l9K0.Izk1vPcBjq4; path=/; expires=Sun, 09-Nov-25 22:48:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=7zhxwHq7ngU02_nmOux8xj5AX0YYvQC6R7lL4cdkFEA-1762726706052-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0af987eb34229-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_7191c2cfeeee48769998ccc731f99125',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6FL5bSvEEJREeokzRH"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:26 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0af997d6e430f-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6FL5bSvEEJREeokzRH',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6FL5bSvEEJREeokzRH',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6FL5bSvEEJREeokzRH'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6FLacB6WkKYK92vbE5"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:26 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0af9a2c2c7277-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6FLacB6WkKYK92vbE5',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '30',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6FLacB6WkKYK92vbE5',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6FLacB6WkKYK92vbE5'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:26 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_8ea23d61f90343f3bdfe39391c6d3973',
    'x-envoy-upstream-service-time': '4',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=GIuxr0qS28iq0NZI0l2T_h6fVOxtTnzYPsR2Fkg_Q5Q-1762726706-1.0.1.1-4oJiEhrz_EuD1pXtNv3juJMnpPTnCmhdCHgeAapolFD5NY1rCvNK1tuD3weEHirkVKBZf6o1BIHJOFPhR0ddAi3iRex76C50lyzenDbCFmk; path=/; expires=Sun, 09-Nov-25 22:48:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=gDqM0DZRbVhdNN2lg_V3.8gRdRNbJ6yGp4P2wYdcnhM-1762726706464-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0af9ab8ba4229-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_8ea23d61f90343f3bdfe39391c6d3973',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:28 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_a668614019cb4033b78b22c39fe711aa',
    'x-envoy-upstream-service-time': '133',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=iqMdOFw2GETN3JhwBeMX37khvJTyWTh__EJUgSaaWzk-1762726708-1.0.1.1-cTbjxnFCwWh0kxk2LZeitN5OiVMcCvn0lQ3QAQ9uFvSRecXZ8.rxSIO4K6eFdqTnSqgoeytLb0RoHPm6iuJXWRfDX91k.CRhgwr0_9CXPU0; path=/; expires=Sun, 09-Nov-25 22:48:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=AVDFZChuS3B1_joZxP39AJzCnja50Cg78gLHAWzrfGU-1762726708662-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0afa5da984229-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_a668614019cb4033b78b22c39fe711aa',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:31 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b947a2303ef4474aa0eb2bcbcadd8ee2',
    'x-envoy-upstream-service-time': '3',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=QdUEDdQQYjZhdJ.LayUrlNTswwbdUProvwQetGLlEOs-1762726711-1.0.1.1-FgbcgcvBzl9x2NI16MVEo2W5hSBuLahJ7DjGiFPknhLpPhfRQuarFFuwr94FShkfYqymq.huVFtR3R24..1W1MvxBIwpU538KCUmwP6x0C8; path=/; expires=Sun, 09-Nov-25 22:48:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=XeddJZFFFu19crT.9u8exBTOs6raWWeisnHU0mB9dUY-1762726711494-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0afba3a4e4229-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b947a2303ef4474aa0eb2bcbcadd8ee2',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6FjBQKs5njHbFyCRtn"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:31 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0afbb4c99932c-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6FjBQKs5njHbFyCRtn',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '20',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6FjBQKs5njHbFyCRtn',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6FjBQKs5njHbFyCRtn'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6FjjtjcEzMXonvg5Q2"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:31 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0afbc0f87c347-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6FjjtjcEzMXonvg5Q2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '29',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6FjjtjcEzMXonvg5Q2',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6FjjtjcEzMXonvg5Q2'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:31 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_294c8ff69675435fb76f5f70417aca7f',
    'x-envoy-upstream-service-time': '8',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=cfdR4M6tj.uljtEMXducD9Vxac9g4BpIYJ68w7BNAhY-1762726711-1.0.1.1-LCtpFzVRuNJoDns7KpSqfxqEPJ2_rvW45dezeC8XBIEXPePCxedQQIkqioK7Ei6A1mAdoj575DL6OhkBNtUss4T5Ghs0ZIHY4WSP56I5iXs; path=/; expires=Sun, 09-Nov-25 22:48:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=zhoZoz5KcqReD5YwkmaJMsqfHjM_FlXpzLiv9I18oeg-1762726711834-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0afbc9bcd4229-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_294c8ff69675435fb76f5f70417aca7f',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:34 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_d90234e63d934730bb1c7effbb8a5298',
    'x-envoy-upstream-service-time': '303',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
üéâ Extracted 0 events total
    'set-cookie': '__cf_bm=6wVaYKy5KsX33LoQSrI0W2r9ifBfop3cZjjCLw8YSDw-1762726714-1.0.1.1-4w.rJytVADSKSF.HySDdXc.ycFj4DQkXR_lwP.cOnflys_GJTWkHw9t2TUCvfMbEBYuzte3.vutA6wPsJkB4ylZMiN20WlOLkDJYFoxNPCw; path=/; expires=Sun, 09-Nov-25 22:48:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=MWC11VEBVUJZplCaABAPyOVCgY2lqN0ZhX6kzizmmYs-1762726714400-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0afc7ad774229-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d90234e63d934730bb1c7effbb8a5298',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
‚ùå Extraction failed for https://www.boweryballroom.com/calendar: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: The Bowery Ballroom

üöÄ Processing source: Brooklyn Bowl
üîç Discovering URLs for brooklynbowl.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.brooklynbowl.com/events/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.brooklynbowl.com/events/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:49 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_934c6fbe9ad590c19041d3529dd0465c',
    'x-envoy-upstream-service-time': '8',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=gIHnqYQChXfbZkQG313ItYNKCAK3GoKUQm90HzGkL3Y-1762726729-1.0.1.1-GdEby9E__ADh36KbRIUbsS_5ecrarInrLn3yy6bNlLo3IwMvnVzfjNBhpFUgOMvveVFf9L5UbLdC8K3.nbSDywrgbGd9PKZdti.ISc7UYO8; path=/; expires=Sun, 09-Nov-25 22:48:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=CnNyWc915aiN9iq8QCLlbs1CsJCD_47qDC5BmhXFQts-1762726729397-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b02a1ffede98-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_934c6fbe9ad590c19041d3529dd0465c',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6H3je9vYcxVDV1VgjP"}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:49 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b02b2ab40f4f-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6H3je9vYcxVDV1VgjP',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '16',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6H3je9vYcxVDV1VgjP',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6H3je9vYcxVDV1VgjP'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6H4K8B74fg9WyRsmes"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:49 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b02c0d0fb1f3-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6H4K8B74fg9WyRsmes',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '13',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6H4K8B74fg9WyRsmes',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6H4K8B74fg9WyRsmes'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:49 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_d97a6892029e49efafc9724f9f5f8846',
    'x-envoy-upstream-service-time': '5',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=0DUSAQigCS6GuKzkfbJWqGhDcKg7d4kST_q4TjNHfH8-1762726729-1.0.1.1-NxO3rxvCIYW88teEYgLK3oiVn1CkzSTDXSjxTfkaFgR255lcHJFfI5EfMSrtLeULRYQR52j9Vau8P58oeTcB2qvd7v_XU22ZUE2ygpF7TLE; path=/; expires=Sun, 09-Nov-25 22:48:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=JyWTJXvpUjPLrXuUpDwgeGSXof7zPv2wBxGgk3wX3i8-1762726729748-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b02c7d93de98-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d97a6892029e49efafc9724f9f5f8846',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:51 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9b88293ec4c04084972a2f541509610c',
    'x-envoy-upstream-service-time': '11',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=NDOEHShI2Lku__sn6MTW1n8yHGr0ywArt0RNAuG6OMA-1762726731-1.0.1.1-J1DtwC_hYpbWeu3pTvsd8mthZF7WYhdZ72772p9HHdnUtg7YFWb0f0zJ2deYMdbnZoA431Wis64AXQW2mp_0X3Rby0TJ2OkP5wjZZA4aHjs; path=/; expires=Sun, 09-Nov-25 22:48:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=mchBEXfP3uvl7jKKUFaqatiaM_Rd88QlADAy6EwCC3I-1762726731296-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b035fdb5de98-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9b88293ec4c04084972a2f541509610c',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:54 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_2b02710e00dc47ec831aaf1f0171322f',
    'x-envoy-upstream-service-time': '4',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=FJBZ7nrjLZth_aCB1qE7HXfm5ZNMdQI_VzUB80fxgNk-1762726734-1.0.1.1-CDUHCvsF1G2vbQgS_6Z5Br9i41GfCMKDG8m4ZdVppaUsSoZO4qVEkZyEMnEpXag2Dyby2e_jlODMw5wxutNGxvLnDI9smhvjnR4KB4r820E; path=/; expires=Sun, 09-Nov-25 22:48:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=tpKcPH9A9BoXnuji5iX1ItN1JGOGR_MXehN981Zg8cQ-1762726734270-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b048dc82de98-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2b02710e00dc47ec831aaf1f0171322f',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6HQZ2mpnqDPNXsnfr7"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:54 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b0499f5e57d4-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6HQZ2mpnqDPNXsnfr7',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '14',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6HQZ2mpnqDPNXsnfr7',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6HQZ2mpnqDPNXsnfr7'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6HR2ZbV7eAcMFSWut1"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:54 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b04a3a41c35d-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6HR2ZbV7eAcMFSWut1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '37',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6HR2ZbV7eAcMFSWut1',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6HR2ZbV7eAcMFSWut1'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:54 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_3d070519cd6c4166b54e17ffcef4ca73',
    'x-envoy-upstream-service-time': '9',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=bfOpsvz52ZQsCSDLP8QDEmqP1K.iBQKTPV.ldC8S7Ls-1762726734-1.0.1.1-aUFqJmWP8kr8b_ldB6jCwtr8FpHlAqnVLk0hw6PDeiZ6e20F60cSdEodumPPn6qJYIHFV5CudVoTJukORrbAPMSMLFkz5FyyUgd.Dx.boAM; path=/; expires=Sun, 09-Nov-25 22:48:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=7seDKpG4oZgSzZGLkUN_rxCUgJcMr3KYetwhXwqpTbI-1762726734595-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b04ac8f9de98-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_3d070519cd6c4166b54e17ffcef4ca73',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
üéâ Extracted 0 events total
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:18:56 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_964ee6e651fe4b42aa51053831b885b9',
    'x-envoy-upstream-service-time': '5',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=LaCm1T2dOzEMGs8vNaAY9CuPjHomzF67GNvOE0.bKnU-1762726736-1.0.1.1-7RM.zWk2oKgmSBw2TgG3cqt2GR_Lx57kgQis3rpDMw12tSncVnWqXMXV5QruUatdo07B44YcSVOi_0BAYnYFeHhJrG6UbiQ8KjkfYwlAkws; path=/; expires=Sun, 09-Nov-25 22:48:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=O96N4cav4aFiJVHz7TbOBpXf0pjaDMYzqaxymPljVms-1762726736323-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b055ab03de98-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_964ee6e651fe4b42aa51053831b885b9',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
‚ùå Extraction failed for https://www.brooklynbowl.com/events/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Brooklyn Bowl

üöÄ Processing source: Comedy Cellar
üîç Discovering URLs for comedycellar.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.comedycellar.com/shows/
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.comedycellar.com/shows/...
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f3826c407e4f414b88e738fe699875a0',
    'x-envoy-upstream-service-time': '5',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=_ojbNc2i_umff_Kk0kg_dbX3oBrSfj_nWAkeOAUyZAY-1762726754-1.0.1.1-sRFNFL2rsRfJVQHhOtbcCWavJiBsQ1P.NJsoxM4n51OzdwPnXal2q362RrsZB.WU.bczygBwwYFzx.pSgfOCftYgBnUAakRo0qOZuHWVrk0; path=/; expires=Sun, 09-Nov-25 22:49:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=inZFIkFyd3mFhP3yyOo4cO0q4ETLxtt.OR4jw7VG5vA-1762726754292-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b0c5fe67f5fa-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f3826c407e4f414b88e738fe699875a0',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6JtCU4u4zjQtecrGuU"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:14 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b0c6c9b72361-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6JtCU4u4zjQtecrGuU',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '19',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6JtCU4u4zjQtecrGuU',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6JtCU4u4zjQtecrGuU'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6JteFv1Yu1U6jcJHVA"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:14 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b0c77b261016-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6JteFv1Yu1U6jcJHVA',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '22',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6JteFv1Yu1U6jcJHVA',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6JteFv1Yu1U6jcJHVA'
  }
}
[Extraction] Attempting flagship tier (openai/gpt-4o)...
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:14 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_35181e88e8e848f2ae5da27b9e67e508',
    'x-envoy-upstream-service-time': '8',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Uo3tWhUfe6LU40wTf3T2EVqo6CETmPB9JIK0qEnOoY8-1762726754-1.0.1.1-mnvt7iwTU60HJZIalbeApsCh_Dd3Rs1drWTAnlLqs_NyOOySRQp_QGQd1JLxY44nYbtXxpZwq_yaP3e.MnTsqex0rX0pqr0c4El5zorVZHo; path=/; expires=Sun, 09-Nov-25 22:49:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=ZRcq_EFLJCpN2nN3h6OpRmBTzvXqhPoFeM7Or7DbrhY-1762726754614-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b0c7ea8bf5fa-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_35181e88e8e848f2ae5da27b9e67e508',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:16 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9f01493bea5f42f9b4cf9b2282867d35',
    'x-envoy-upstream-service-time': '8',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=A2nopFB_Iu..VdsD1pQ7i6UMNnnijILcLxQO6lNidB8-1762726756-1.0.1.1-yD56k89zeMCZ8AHDV7ovImlEHGmrizqK2VuTVc0C.p3mrP0bzS.P65hL8tHI21ySqpf45shxYEt7r5x8_uHz_GM9GxCszrpxMbSGKkJasiM; path=/; expires=Sun, 09-Nov-25 22:49:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Wq0FHg2TZI9OdIQ5GvkVBdL63KZK4zkEWQjGt3Rl__M-1762726756475-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b0d35d71f5fa-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9f01493bea5f42f9b4cf9b2282867d35',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9abfbf9a4f63497ba46622cf38d77907',
    'x-envoy-upstream-service-time': '4',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ncmVxH66kV_xAZ7TFw0Jxp5twzHj1ydyzD9J6bf2LLM-1762726759-1.0.1.1-GnwtpsL3BUt5A0_BUKcd_rZBJb14PYeaKl_QfIU1cXpnClQjuhrrLuBktijmbTxs.1rewJ55TkDl4TsfCKEQPlDRCrvmE.RuD7W_kjCrPlM; path=/; expires=Sun, 09-Nov-25 22:49:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=c0oxmP26fUxlDIwUbMGnOU5dU6gRUvLme4KelrDjkqU-1762726759060-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b0e3cbd6f5fa-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9abfbf9a4f63497ba46622cf38d77907',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6KEUNLbKeijF5yxXK7"}
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b0e46e5a7a99-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6KEUNLbKeijF5yxXK7',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '10',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6KEUNLbKeijF5yxXK7',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6KEUNLbKeijF5yxXK7'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6KEweEeg3NK4TpEAyW"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:19 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b0e51f7bde9c-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6KEweEeg3NK4TpEAyW',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '162',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6KEweEeg3NK4TpEAyW',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6KEweEeg3NK4TpEAyW'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:19 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_eb8b66962bfb4dba9a6a8e82a6b8d939',
    'x-envoy-upstream-service-time': '8',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=q69i6tm2RdPxl6mhtCUmu5iri0nrm6e92.0gzI6m9nw-1762726759-1.0.1.1-YRKj6ilKJym7kCDULM2N1qp4UmLkFc5LbfajmuKxGTHxlDCJjK9fEhGMI.l9lmp8DfBtyuuLBY6KurAbJHzhIirvpilQWPx61uy7U7.s.yQ; path=/; expires=Sun, 09-Nov-25 22:49:19 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=zxp_c18VvX7Cct8QNlAnoMJR5RX3In3eFYmiptRQuqQ-1762726759564-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b0e679b2f5fa-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_eb8b66962bfb4dba9a6a8e82a6b8d939',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:48:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
üéâ Extracted 0 events total
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:21 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_388b38ab4b1041ac8f1fe2653c003a9b',
    'x-envoy-upstream-service-time': '4',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zgZd_0ADd1zZMv4q7YpIoL9gPxz7KLuPgBEqQF5L3DM-1762726761-1.0.1.1-E2xxNVWRDbi3NzR6EDLJz4WgD8iY.OTFzsT3Rnis9e7t4jsOcRO8l5gsYXSDik9T4.73HqmKj3MBrRZU3cP7sQBQcR.8cD9j6aS_.MgGXQI; path=/; expires=Sun, 09-Nov-25 22:49:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=kROT_Ex0.SCD3Dytg57h3uHcHXDqixCmbBqvatlwU1o-1762726761083-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b0f03896f5fa-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_388b38ab4b1041ac8f1fe2653c003a9b',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
‚ùå Extraction failed for https://www.comedycellar.com/shows/: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: Comedy Cellar
5:19:23 PM [tsx] change in ./..\..\packages\llm\src\extraction-openai.ts Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
üë∑ CityPass Worker starting...
üìã Found 15 active sources

üöÄ Processing source: The Bowery Ballroom
üîç Discovering URLs for boweryballroom.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
‚úÖ Crawled: https://www.boweryballroom.com/calendar
ü§ñ Extracting events from 1 pages using enhanced extraction
üîç Extracting from https://www.boweryballroom.com/calendar...
Redis Client Connected
Cache MISS: extraction
[Extraction] Attempting local tier (local/llama3.1:8b)...
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[OpenAI Client] Creating new client - API key present: true, length: 164
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:53:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:46 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_aa6daf74c588451e8bbb1debaf8542fe',
    'x-envoy-upstream-service-time': '16',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=1H9GCdNBNmA7SVbgOZX_hL6GX7pNRNtL4xqyGnt5M8g-1762726786-1.0.1.1-7ufggzp46nVh0lX1ND7fTKHffiEBDpZsLm2Vulo8RsPZ_I2YH7BU7LyO2emw8EurJA0A0c9Cc1ComV5wzuK4McB0bvd1xBLh8aY_9MEc0PM; path=/; expires=Sun, 09-Nov-25 22:49:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=2S2A2IDcp7YfagYeGNTM64VEohT6qQhKUuYUp01x_e0-1762726786940-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b191a8c01aea-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_aa6daf74c588451e8bbb1debaf8542fe',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6MHoqse1ab3TSog1sK"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:47 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b192d9ba58c1-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6MHoqse1ab3TSog1sK',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '18',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6MHoqse1ab3TSog1sK',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6MHoqse1ab3TSog1sK'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6MJUXE6BGpUHMRJ2Wa"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:47 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b193aed14381-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6MJUXE6BGpUHMRJ2Wa',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '155',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6MJUXE6BGpUHMRJ2Wa',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6MJUXE6BGpUHMRJ2Wa'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:53:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:47 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_fc6f38d299254989a41cf2c3b9388161',
    'x-envoy-upstream-service-time': '10',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=MBoa5_8zZ2KRW5L6KgM1VAfMgJwlVkFZOmJpFNmOk58-1762726787-1.0.1.1-VypuLvddjJ.2.8ja5Xr7wqA4HlC2HqfNi6UzoypMkkqmKEwyodOmlkOJy1y53MIvZWZ6UWxXzYExiAC9mDauMs_6HsiX9px5XI8rbwJOlAE; path=/; expires=Sun, 09-Nov-25 22:49:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=3SmJRvZUn6.JnsdOIIOGjhs32H7Oy96MOP_xVR1PN8w-1762726787502-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b1952b571aea-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_fc6f38d299254989a41cf2c3b9388161',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:53:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:49 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_65f8be34d65f46159817ccf742e441cc',
    'x-envoy-upstream-service-time': '9',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ehgPCL1vPheY1RlKd9UiSdnaLQersrR0sPMmiRlJqis-1762726789-1.0.1.1-Hub2.GkeKRYcdiFqxXwn_NFoClrh4v3eEYd7MqMnt4PuVwXLEpHthtm0.KfaMN7LXZsAaRgQ8Ji7KaGvmQJdyNgnoigZ4OY6Muy8DYhRnH4; path=/; expires=Sun, 09-Nov-25 22:49:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=vW6hgdC1sZWoqOLdQWb.rmoxmg2GpJV50irjgVtIVpA-1762726789339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b1a09aef1aea-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_65f8be34d65f46159817ccf742e441cc',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Cache error, computing directly: Error: All extraction tiers exhausted without success
    at extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:208:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:135:20)
[Extraction] Attempting local tier (local/llama3.1:8b)...
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25)
    at async Object._runWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\retry.ts:103:16)
    at async PregelRunner._executeTasksWithRetry (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:330:27)
    at async PregelRunner.tick (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\runner.ts:138:37)
    at async CompiledStateGraph._runLoop (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\pregel\index.ts:2273:9)
[Extraction] Failed with llama3.1:8b: ResponseError: model requires more system memory than is currently available unable to load full model on GPU
[Extraction] Attempting cheap tier (openai/gpt-4o-mini)...
    at checkOk (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:77:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async post (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:160:3)
    at async Ollama.processStreamableRequest (C:\Users\ragha\citypass\node_modules\.pnpm\ollama@0.6.2\node_modules\ollama\dist\browser.cjs:301:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:237:22)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  error: 'model requires more system memory than is currently available unable to load full model on GPU',
  status_code: 500
}
[Extraction] Failed with gpt-4o-mini: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
[Extraction] Trying alternate provider: anthropic/claude-3-haiku-20240307
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:53:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:53 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5de2db50e39840f682591909d84d356e',
    'x-envoy-upstream-service-time': '10',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=IolBnOyGOdMXQlwsS2y5Um6hE3v3q.W5mRn8ISoHn2U-1762726793-1.0.1.1-3RnwQWmCIOQD5DTfCx4SWeiZUsylj3DcQiSwRDPG8.Y8uUrDsFD7NFRQ78rDdHwbiafwXa5yAOd_86tgo6PFHy1CO5SBPAC52PO8LUL.3DI; path=/; expires=Sun, 09-Nov-25 22:49:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=467nERO6PmwINC_fujvKxd.GjZjUrrGWfUaHZhDKluA-1762726793053-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b1b7ed611aea-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5de2db50e39840f682591909d84d356e',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
[Extraction] Alternate provider also failed: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6MjwiRXF9MbeyUwbNr"}
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
[Extraction] Attempting balanced tier (anthropic/claude-3-5-sonnet-20241022)...
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:53 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b1b90e4e4286-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6MjwiRXF9MbeyUwbNr',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '25',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6MjwiRXF9MbeyUwbNr',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6MjwiRXF9MbeyUwbNr'
  }
}
[Extraction] Failed with claude-3-5-sonnet-20241022: AuthenticationError: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"},"request_id":"req_011CUy6MkVTCkmM99WXt8s1A"}
[Extraction] Trying alternate provider: openai/gpt-4-turbo
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\core\error.ts:67:14)
    at Anthropic.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:429:28)
    at Anthropic.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\@anthropic-ai+sdk@0.68.0_zod@4.1.12\node_modules\@anthropic-ai\sdk\src\client.ts:664:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:255:21)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21)
    at async RunnableSequence.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+core@1.0.3_openai@6.8.1\node_modules\@langchain\core\src\runnables\base.ts:1904:25) {
  status: 401,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:53 GMT',
    'content-type': 'application/json',
    'content-length': '130',
    connection: 'keep-alive',
    'cf-ray': '99c0b1b9ef0cb89f-EWR',
    'x-should-retry': 'false',
    'request-id': 'req_011CUy6MkVTCkmM99WXt8s1A',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-envoy-upstream-service-time': '15',
    'cf-cache-status': 'DYNAMIC',
    'x-robots-tag': 'none',
    server: 'cloudflare'
  },
  requestID: 'req_011CUy6MkVTCkmM99WXt8s1A',
  error: {
    type: 'error',
    error: { type: 'authentication_error', message: 'invalid x-api-key' },
    request_id: 'req_011CUy6MkVTCkmM99WXt8s1A'
  }
}
[Extraction] Alternate provider also failed: NotFoundError: 404 The model `gpt-4-turbo` does not exist or you do not have access to it.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:84:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:53:22)
[Extraction] Attempting flagship tier (openai/gpt-4o)...
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:193:28)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 404,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:53 GMT',
    'content-type': 'application/json; charset=utf-8',
    'transfer-encoding': 'chunked',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b0972a9678264e5db6a57a9403f67522',
    'x-envoy-upstream-service-time': '5',
    'x-openai-proxy-wasm': 'v0.1',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=I9NpSUpN24piHke9ZXiNIHcvD2Jef9dInTMDL7suQw8-1762726793-1.0.1.1-tWOfFZyV2eOmIyqRxXLWTehbMdn62qkfJ9aMnzFiqLgS8jSgtc8lDi2sHHN4hz1_CthLLNqyYP.wCysXXxleVqTysUVLjfVzhoY.hEAWgOo; path=/; expires=Sun, 09-Nov-25 22:49:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Mnn5jjjNuPSD_76S3JC0QZsA3IyupCEUygscyMf4XKs-1762726793493-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b1ba4b661aea-EWR',
    'content-encoding': 'br',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b0972a9678264e5db6a57a9403f67522',
  error: {
    message: 'The model `gpt-4-turbo` does not exist or you do not have access to it.',
    type: 'invalid_request_error',
    param: null,
    code: 'model_not_found'
  },
  code: 'model_not_found',
  param: null,
  type: 'invalid_request_error'
}
[Extraction] Failed with gpt-4o: RateLimitError: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at APIError.generate (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\core\error.ts:96:14)
    at OpenAI.makeStatusError (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:478:28)
    at OpenAI.makeRequest (C:\Users\ragha\citypass\node_modules\.pnpm\openai@6.8.1_zod@4.1.12\node_modules\openai\src\client.ts:728:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async extractWithOpenAI (C:\Users\ragha\citypass\packages\llm\src\extraction-openai.ts:53:22)
    at async extractWithTier (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:280:20)
    at async extractFn (C:\Users\ragha\citypass\packages\llm\src\extraction-enhanced.ts:169:24)
    at async withCache (C:\Users\ragha\citypass\packages\llm\src\cache.ts:146:12)
    at async RunnableCallable.extractEvents (C:\Users\ragha\citypass\apps\worker\src\nodes\extract.ts:19:22)
    at async RunnableCallable.invoke (C:\Users\ragha\citypass\node_modules\.pnpm\@langchain+langgraph@1.0.1_@langchain+core@1.0.3_zod@4.1.12\node_modules\@langchain\langgraph\src\utils.ts:85:21) {
  status: 429,
  headers: Headers {
    date: 'Sun, 09 Nov 2025 22:19:55 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_9d50fd571bbb467e80f09e68ec61de89',
    'x-envoy-upstream-service-time': '4',
    'x-openai-proxy-wasm': 'v0.1',
üéâ Extracted 0 events total
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ROPC3PBViazxnFJd4mltS9VorGJqHFajRKDiG1Mh33c-1762726795-1.0.1.1-K7XPzyt.XiCp1JvxEke_8eZ2cVXurvqRjyF567YL.C66jDAGkeVN3edDOlSzwjz9N1HmY8u1zhOZyGUAauKXFhCOxY.onO7NepGNoq2g0OU; path=/; expires=Sun, 09-Nov-25 22:49:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=vG1dhRGkRv1S4xSp_LZn3r9kzcZpEqdplJR6NldzD_o-1762726795120-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '99c0b1c51d611aea-EWR',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_9d50fd571bbb467e80f09e68ec61de89',
  error: {
    message: 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.',
    type: 'insufficient_quota',
    param: null,
    code: 'insufficient_quota'
  },
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
‚ùå Extraction failed for https://www.boweryballroom.com/calendar: All extraction tiers exhausted without success
‚ÑπÔ∏è  No events extracted
‚úÖ Completed source: The Bowery Ballroom

üöÄ Processing source: Brooklyn Bowl
üîç Discovering URLs for brooklynbowl.com
‚úÖ Discovered 1 URLs
üî• Crawling with Firecrawl: 1 URLs
üîë API Key: fc-52a1591...
5:20:07 PM [tsx] change in ./src\index.ts Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
C:\Users\ragha\citypass\apps\worker\src\index.ts:18
resetOpenAIClient();
^

TypeError: (0 , import_llm.resetOpenAIClient) is not a function
    at resolve (C:\Users\ragha\citypass\apps\worker\src\index.ts:18:1)
    at Object.<anonymous> (C:\Users\ragha\citypass\apps\worker\src\index.ts:94:1)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object.transformer (C:\Users\ragha\citypass\node_modules\.pnpm\tsx@4.20.6\node_modules\tsx\dist\register-D46fvsV_.cjs:3:1104)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at cjsLoader (node:internal/modules/esm/translators:342:5)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:234:7)

Node.js v24.11.0
5:54:59 PM [tsx] change in ./..\..\packages\types\src\index.js Rerunning...
c5:55:00 PM [tsx] change in ./..\..\packages\types\src\index.js Restarting...
5:55:00 PM [tsx] change in ./..\..\packages\types\src\index.js Process hasn't exited. Killing process...
c5:55:04 PM [tsx] change in ./..\..\packages\types\src\index.js Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: üì° add observability to secrets: https://dotenvx.com/ops
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
C:\Users\ragha\citypass\apps\worker\src\index.ts:18
resetOpenAIClient();
^

TypeError: (0 , import_llm.resetOpenAIClient) is not a function
    at resolve (C:\Users\ragha\citypass\apps\worker\src\index.ts:18:1)
    at Object.<anonymous> (C:\Users\ragha\citypass\apps\worker\src\index.ts:94:1)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object.transformer (C:\Users\ragha\citypass\node_modules\.pnpm\tsx@4.20.6\node_modules\tsx\dist\register-D46fvsV_.cjs:3:1104)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at cjsLoader (node:internal/modules/esm/translators:342:5)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:234:7)

Node.js v24.11.0
5:56:05 PM [tsx] change in ./..\..\packages\types\src\index.js Rerunning...
c5:56:07 PM [tsx] change in ./..\..\packages\types\src\index.js Restarting...
5:56:07 PM [tsx] change in ./..\..\packages\types\src\index.js Process hasn't exited. Killing process...
c5:56:08 PM [tsx] change in ./..\..\packages\types\src\index.js Restarting...
5:56:09 PM [tsx] change in ./..\..\packages\types\src\index.js Process hasn't exited. Killing process...
5:56:09 PM [tsx] change in ./..\..\packages\types\src\index.js Process hasn't exited. Killing process...
5:56:09 PM [tsx] change in ./..\..\packages\types\src\index.js Process hasn't exited. Killing process...
5:56:09 PM [tsx] change in ./..\..\packages\types\src\index.js Process hasn't exited. Killing process...
5:56:10 PM [tsx] change in ./..\..\packages\utils\src\index.js Process hasn't exited. Killing process...
c5:56:10 PM [tsx] change in ./..\..\packages\utils\src\index.js Restarting...
c5:56:13 PM [tsx] change in ./..\..\packages\utils\src\index.js Restarting...
5:56:14 PM [tsx] change in ./..\..\packages\utils\src\index.js Process hasn't exited. Killing process...
c5:56:30 PM [tsx] change in ./..\..\packages\db\src\index.js Restarting...
c5:56:32 PM [tsx] change in ./..\..\packages\db\src\index.js Restarting...
c5:56:33 PM [tsx] change in ./..\..\packages\db\src\index.js Restarting...
c5:56:36 PM [tsx] change in ./..\..\packages\db\src\index.js Restarting...
5:56:36 PM [tsx] change in ./..\..\packages\db\src\index.js Process hasn't exited. Killing process...
c5:56:37 PM [tsx] change in ./..\..\packages\db\src\index.js Restarting...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
C:\Users\ragha\citypass\apps\worker\src\index.ts:18
resetOpenAIClient();
^

TypeError: (0 , import_llm.resetOpenAIClient) is not a function
    at resolve (C:\Users\ragha\citypass\apps\worker\src\index.ts:18:1)
    at Object.<anonymous> (C:\Users\ragha\citypass\apps\worker\src\index.ts:94:1)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object.transformer (C:\Users\ragha\citypass\node_modules\.pnpm\tsx@4.20.6\node_modules\tsx\dist\register-D46fvsV_.cjs:3:1104)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at cjsLoader (node:internal/modules/esm/translators:342:5)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:234:7)

Node.js v24.11.0
6:38:05 PM [tsx] change in ./..\..\node_modules\.pnpm\@prisma+client@6.19.0_prisma@6.19.0_typescript@5.9.3\node_modules\.prisma\client\index.js Rerunning...
c[dotenv@17.2.3] injecting env (15) from ..\..\.env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[Worker] Loading .env from: C:\Users\ragha\citypass\.env
[Worker] Loaded 45 environment variables
[Worker] OPENAI_API_KEY present: true
C:\Users\ragha\citypass\apps\worker\src\index.ts:18
resetOpenAIClient();
^

TypeError: (0 , import_llm.resetOpenAIClient) is not a function
    at resolve (C:\Users\ragha\citypass\apps\worker\src\index.ts:18:1)
    at Object.<anonymous> (C:\Users\ragha\citypass\apps\worker\src\index.ts:94:1)
    at Module._compile (node:internal/modules/cjs/loader:1760:14)
    at Object.transformer (C:\Users\ragha\citypass\node_modules\.pnpm\tsx@4.20.6\node_modules\tsx\dist\register-D46fvsV_.cjs:3:1104)
    at Module.load (node:internal/modules/cjs/loader:1480:32)
    at Module._load (node:internal/modules/cjs/loader:1299:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:244:24)
    at cjsLoader (node:internal/modules/esm/translators:342:5)
